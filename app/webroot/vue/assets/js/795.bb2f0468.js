"use strict";(self["webpackChunkvueapp"]=self["webpackChunkvueapp"]||[]).push([[795,115],{7865:function(e,t,l){l.d(t,{Z:function(){return x}});var a,n,r=l(3396),s=l(7139),i=l(4870),u=l(9242),o=l(5708),d=(l(7658),"function"==typeof Map?new Map:(a=[],n=[],{has:function(e){return a.indexOf(e)>-1},get:function(e){return n[a.indexOf(e)]},set:function(e,t){-1===a.indexOf(e)&&(a.push(e),n.push(t))},delete:function(e){var t=a.indexOf(e);t>-1&&(a.splice(t,1),n.splice(t,1))}})),c=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(a){c=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function v(e){var t=d.get(e);t&&t.destroy()}function p(e){var t=d.get(e);t&&t.update()}var m=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((m=function(e){return e}).destroy=function(e){return e},m.update=function(e){return e}):((m=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return function(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!d.has(e)){var t,l=null,a=null,n=null,r=function(){e.clientWidth!==a&&o()},s=function(t){window.removeEventListener("resize",r,!1),e.removeEventListener("input",o,!1),e.removeEventListener("keyup",o,!1),e.removeEventListener("autosize:destroy",s,!1),e.removeEventListener("autosize:update",o,!1),Object.keys(t).forEach((function(l){e.style[l]=t[l]})),d.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",s,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",o,!1),window.addEventListener("resize",r,!1),e.addEventListener("input",o,!1),e.addEventListener("autosize:update",o,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",d.set(e,{destroy:s,update:o}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),l="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(l)&&(l=0),o()}function i(t){var l=e.style.width;e.style.width="0px",e.style.width=l,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&(e.parentNode.style.scrollBehavior="auto",t.push([e.parentNode,e.parentNode.scrollTop])),e=e.parentNode;return function(){return t.forEach((function(e){var t=e[0];t.scrollTop=e[1],t.style.scrollBehavior=null}))}}(e);e.style.height="",e.style.height=e.scrollHeight+l+"px",a=e.clientWidth,t()}}function o(){u();var t=Math.round(parseFloat(e.style.height)),l=window.getComputedStyle(e,null),a="content-box"===l.boxSizing?Math.round(parseFloat(l.height)):e.offsetHeight;if(a<t?"hidden"===l.overflowY&&(i("scroll"),u(),a="content-box"===l.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==l.overflowY&&(i("hidden"),u(),a="content-box"===l.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),n!==a){n=a;var r=c("autosize:resized");try{e.dispatchEvent(r)}catch(e){}}}}(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],v),e},m.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],p),e});var f=m,h=f;const y={key:0},g=["name","required"],w=["name","id","disabled","readonly","required"];var b=(0,r.aZ)({__name:"CustomTextField",props:{as:{default:"input"},id:null,name:null,value:null,modelValue:null,disabled:{type:Boolean,default:!1}},setup(e){const t=e,l=(0,i.iH)(null),a=(0,i.Vh)(t,"name"),{value:n,handleChange:d,errorMessage:c,handleBlur:v,meta:p}=(0,o.U$)(a,void 0,{type:t.as,initialValue:t.value,validateOnValueUpdate:!1}),m={blur:d,change:d,input:e=>d(e,!!c.value)};return(0,r.bv)((()=>h(l.value))),(0,r.Jd)((()=>h.destroy(l.value))),(e,o)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,s.C_)([{quotes:t.disabled},"flex mx-2 my-2"])},[t.disabled?((0,r.wg)(),(0,r.iD)("q",y,(0,s.zw)((0,i.SU)(n)),1)):t.disabled||"input"!==t.as?t.disabled||"textarea"!==t.as?(0,r.kq)("",!0):(0,r.wy)(((0,r.wg)(),(0,r.iD)("textarea",(0,r.dG)({key:2,name:(0,i.SU)(a),id:t.id,ref_key:"elementRef",ref:l,class:["py-2 w-full",{"has-error":!!(0,i.SU)(c),success:(0,i.SU)(p).valid}],"onUpdate:modelValue":o[3]||(o[3]=e=>(0,i.dq)(n)?n.value=e:null),disabled:t.disabled,readonly:t.disabled,required:t.required},(0,r.mx)(m,!0),{onBlur:o[4]||(o[4]=(...e)=>(0,i.SU)(v)&&(0,i.SU)(v)(...e)),onInput:o[5]||(o[5]=(...e)=>(0,i.SU)(d)&&(0,i.SU)(d)(...e))},e.$attrs),null,16,w)),[[u.nr,(0,i.SU)(n)]]):(0,r.wy)(((0,r.wg)(),(0,r.iD)("input",(0,r.dG)({key:1,type:"text",name:(0,i.SU)(a),class:["py-2 w-full",{"has-error":!!(0,i.SU)(c),success:(0,i.SU)(p).valid}],"onUpdate:modelValue":o[0]||(o[0]=e=>(0,i.dq)(n)?n.value=e:null),required:t.required},(0,r.mx)(m,!0),{onBlur:o[1]||(o[1]=(...e)=>(0,i.SU)(v)&&(0,i.SU)(v)(...e)),onInput:o[2]||(o[2]=(...e)=>(0,i.SU)(d)&&(0,i.SU)(d)(...e))},e.$attrs),null,16,g)),[[u.nr,(0,i.SU)(n)]])],2))}});const _=b;var x=_},5215:function(e,t,l){l.d(t,{Z:function(){return o}});var a=l(3396),n=l(4870),r=l(5708);const s=["name","value","checked"];var i=(0,a.aZ)({__name:"HiddenInput",props:{name:null,value:null,rules:{default:void 0}},setup(e){const t=e,l=(0,n.Vh)(t,"name"),{checked:i,handleChange:u,handleBlur:o}=(0,r.U$)(l,t.rules,{type:"radio",initialValue:t.value});return(e,r)=>((0,a.wg)(),(0,a.iD)("input",{type:"hidden",name:(0,n.SU)(l),value:t.value,checked:(0,n.SU)(i),onBlur:r[0]||(r[0]=(...e)=>(0,n.SU)(o)&&(0,n.SU)(o)(...e)),onInput:r[1]||(r[1]=(...e)=>(0,n.SU)(u)&&(0,n.SU)(u)(...e))},null,40,s))}});const u=i;var o=u},5815:function(e,t,l){l.d(t,{Z:function(){return p}});var a=l(3396),n=l(4870),r=l(7139),s=l(3666);const i={class:"flex justify-center items-center space-x-4"},u={key:0,class:"flex flex-col justify-center items-center text-sm font-medium leading-3-5"},o={class:"font-medium"},d={class:"font-medium"};var c=(0,a.aZ)({__name:"UserCard",props:{member:null},setup(e){const t=e;return(e,l)=>((0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)((0,n.SU)(s.W2),{class:"w-12 h-12"}),t.member?((0,a.wg)(),(0,a.iD)("div",u,[(0,a._)("span",o,(0,r.zw)(t.member.first_name),1),(0,a._)("span",d,(0,r.zw)(t.member.last_name),1)])):(0,a.kq)("",!0)]))}});const v=c;var p=v},7795:function(e,t,l){l.r(t),l.d(t,{default:function(){return A}});var a=l(7865),n=l(3396),r=l(7139);const s={class:"flex flex-col justify-center mx-2 my-2 py-2 px-4 bg-white border border-gray-100 rounded"},i=(0,n._)("div",{class:"text-sm text-gray-500 font-medium leading-3 mb-0"},[(0,n.Uk)(" An average"),(0,n._)("br"),(0,n.Uk)("amount ")],-1),u={class:"slider-step mx-1 padding: 0 0.4rem;"},o={key:0,class:"slider-mark mt-4"},d=(0,n._)("div",{class:"w-full flex justify-between items-center -mt-0"},[(0,n._)("div",{class:"text-sm text-gray-500 font-medium"},"Less"),(0,n._)("div",{class:"text-sm text-gray-500 font-medium"},"More")],-1);var c=(0,n.aZ)({__name:"CustomRangeWrapper",props:{ticks:{default:6},steps:{type:Boolean,default:!1},marks:{type:Boolean,default:!1},offset:{type:Boolean,default:!1}},setup(e){const t=e;return(e,l)=>((0,n.wg)(),(0,n.iD)("div",s,[i,(0,n._)("div",{style:(0,r.j5)({"margin-bottom":t.marks?"":"0.5rem"}),class:"slider slider-horizontal slider-with-marks"},[(0,n.WI)(e.$slots,"default",{class:"slider-rail"}),(0,n._)("div",u,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.ticks+1,((e,l)=>((0,n.wg)(),(0,n.iD)("span",{key:l,style:(0,r.j5)(`left: ${100/t.ticks*l}%; transform: translateX(${l===t.ticks?"-100%":"-50%"}); display: ${0===l&&t.offset||l===t.ticks&&t.offset?"none":""}`),class:"slider-line"},null,4)))),128))]),t.marks?((0,n.wg)(),(0,n.iD)("div",o,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.ticks+1,((e,l)=>((0,n.wg)(),(0,n.iD)("span",{key:l,style:(0,r.j5)([`left: ${100/t.ticks*l}%`,{transform:"translateX(-50%)"}]),class:"slider-mark-text slider-mark-text-active"},(0,r.zw)(0===l?0:Math.floor(100/t.ticks*l)),5)))),128))])):(0,n.kq)("",!0)],4),d]))}});const v=c;var p=v,m=l(4870),f=l(5708),h=(0,n.aZ)({__name:"CustomRangeField",props:{name:null,modelValue:null,disabled:{type:Boolean,default:!1}},setup(e){const t=e,l=(0,m.Vh)(t,"name"),{value:a,errorMessage:r,handleBlur:s,handleChange:i,meta:u}=(0,f.U$)(l,void 0,{type:"range",initialValue:t.modelValue}),o={blur:i,change:i,input:e=>i(e,!!r.value)};return(e,t)=>(0,n.WI)(e.$slots,"default",{inputValue:(0,m.SU)(a),errorMessage:(0,m.SU)(r),handleBlur:(0,m.SU)(s),handleChange:(0,m.SU)(i),validationListeners:o,meta:(0,m.SU)(u)})}});const y=h;var g=y,w=l(5815),b=l(5215),_=l(4806);const x={class:"evaluation__simple space-y-10"},U={key:0,class:"flex flex-col"},k={class:"flex justify-evenly bg-gray-300 border border-b-1"},S={class:"p-2"},z={class:"p-2"},E={class:"flex justify-evenly bg-gray-100 py-2 px-4 text-sm"},D={class:""},W={class:""},B={class:"datatable"},C={class:"question"},q={key:0,class:"description"},V={class:"table-wrapper"},F={class:"standardtable center no-v-line"},H=(0,n._)("th",{style:{width:"20%"}},"Peer",-1),M={style:{width:"80%"}},$=["value","onBlur","onInput","disabled"],N={class:"datatable"},L=(0,n._)("div",{class:"question"}," 2. Please provide overall comments about each peer. ",-1),Z=(0,n._)("div",{class:"description"},null,-1),j={class:"table-wrapper"},I={class:"standardtable center no-v-line"},Y=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{style:{width:"20%"}},"Peer"),(0,n._)("th",{style:{width:"80%"}},"Comments")])],-1);var T=(0,n.aZ)({__name:"EvaluationSimpleDetails",props:{data:null,values:null,errors:null,isSubmitting:{type:Boolean},disabled:{type:Boolean,default:!1}},setup(e){const t=e,l=(0,m.Vh)(t,"values"),s=(0,m.Vh)(t,"data"),i=(0,m.iH)(!1),u=(0,m.iH)([]),o=(0,m.iH)([]),d=(0,m.iH)([]),c=(0,n.Fl)((()=>s.value?.evaluation?.user_id)),v=(0,n.Fl)((()=>s.value?.event?.id)),f=(0,n.Fl)((()=>s.value?.group?.id)),h=(0,n.Fl)((()=>s.value?.course?.id)),y=(0,n.Fl)((()=>s.value?.evaluation?.member_count));return(0,n.m0)((()=>{const e=l.value?.length,t=s.value?.evaluation?.point_per_member,a=s.value?.evaluation?.remaining??e*t,n=o.value?.reduce(((e,t)=>e+Number(t)),0);o.value?.forEach(((e,t)=>{d.value[t]=Math.ceil(Number(e)/n*a)}));const r=d.value?.reduce(((e,t)=>e+Number(t)),0);if(r>a){const e=d.value?.findIndex((e=>e===Math.max(...d.value)));d.value[e]=Math.max(...d.value)-(r-a)}})),(0,n.bv)((()=>{(0,_.isEmpty)(s.value?.evaluation?.questions)&&u.value?.push({id:"1",title:"Please rate each peer's relative contribution.",description:"",question_num:"1"})})),(0,n.wF)((()=>{l.value?.forEach(((e,t)=>{(0,_.isEmpty)(e?.detail?.response)?o.value[t]=50:e.detail.response?.forEach((e=>{o.value[t]=e?.score/l.value?.length,d.value[t]=e?.score}))}))})),(e,_)=>{const T=b.Z,X=w.Z,A=g,O=p,K=a.Z;return(0,n.wg)(),(0,n.iD)("div",x,[(0,n.Wm)(T,{name:"event_id",value:(0,m.SU)(v)},null,8,["value"]),(0,n.Wm)(T,{name:"group_id",value:(0,m.SU)(f)},null,8,["value"]),(0,n.Wm)(T,{name:"course_id",value:(0,m.SU)(h)},null,8,["value"]),(0,n.Wm)(T,{name:"data[Evaluation][evaluator_id]",value:(0,m.SU)(c)},null,8,["value"]),(0,n.Wm)(T,{name:"evaluateeCount",value:(0,m.SU)(y)},null,8,["value"]),i.value?((0,n.wg)(),(0,n.iD)("div",U,[(0,n._)("div",k,[(0,n._)("span",S," remaining: "+(0,r.zw)((0,m.SU)(s)?.evaluation?.remaining),1),(0,n._)("span",z," point_per_member: "+(0,r.zw)((0,m.SU)(s)?.evaluation?.point_per_member),1)]),(0,n._)("div",E,[(0,n._)("span",D,[(0,n.Uk)(" scores: "),(0,n._)("pre",null,(0,r.zw)(d.value),1)]),(0,n._)("span",W,[(0,n.Uk)(" elements: "),(0,n._)("pre",null,(0,r.zw)(o.value),1)])])])):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(u.value,((e,a)=>((0,n.wg)(),(0,n.iD)("div",{class:"datatable",key:e.id},[(0,n._)("div",B,[(0,n._)("div",C,(0,r.zw)(e.question_num)+". "+(0,r.zw)(e.title),1),e.description?((0,n.wg)(),(0,n.iD)("div",q,(0,r.zw)(e.description),1)):(0,n.kq)("",!0),(0,n._)("div",V,[(0,n._)("table",F,[(0,n._)("thead",null,[(0,n._)("tr",null,[H,(0,n._)("th",M,[(0,n.Uk)(" Relative Contributio"),(0,n._)("span",{onClick:_[0]||(_[0]=e=>i.value=!i.value)},"n")])])]),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,m.SU)(l),((e,l)=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id},[(0,n.Wm)(T,{name:"memberIDs[]",value:e?.id},null,8,["value"]),(0,n.Wm)(T,{id:`slider_[${l+1}]`,name:`points[${l}]`,value:d.value[l]>0?d.value[l]:0},null,8,["id","name","value"]),(0,n._)("td",null,[(0,n.Wm)(X,{member:e},null,8,["member"])]),(0,n._)("td",null,[(0,n.Wm)(O,null,{default:(0,n.w5)((()=>[(0,n.Wm)(A,{name:`scores[${l}]`,modelValue:o.value[l],"onUpdate:modelValue":e=>o.value[l]=e},{default:(0,n.w5)((({inputValue:e,errorMessage:l,handleBlur:a,handleChange:r,validationListeners:s,meta:i})=>[(0,n._)("input",(0,n.dG)({type:"range",value:e,min:"0",step:"1",max:"100",class:["slider-input absolute m-0 has-error",{"has-error":!!l,success:i.valid}],style:{transform:"translateX(-50%)","box-sizing":"border-box",width:"103%"},onBlur:a,onInput:r},(0,n.mx)(s,!0),{disabled:t.disabled}),null,16,$)])),_:2},1032,["name","modelValue","onUpdate:modelValue"])])),_:2},1024)])])))),128))])])])]),(0,n._)("div",N,[L,Z,(0,n._)("div",j,[(0,n._)("table",I,[Y,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,m.SU)(l),((e,l)=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id},[(0,n._)("td",null,[(0,n.Wm)(X,{member:e},null,8,["member"])]),(0,n._)("td",null,[(0,n.Wm)(K,{as:"textarea",name:`comments[${l}]`,value:e?.detail?.response?e?.detail?.response[a]?.comment:"",disabled:t.disabled},null,8,["name","value","disabled"])])])))),128))])])])])])))),128))])}}});const X=T;var A=X}}]);
//# sourceMappingURL=795.bb2f0468.js.map