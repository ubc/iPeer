{"version":3,"file":"assets/js/edit-evaluation.fcfb5af0.js","mappings":"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","sources":["webpack://vueapp-cli/./src/modules/evaluations/pages/EvaluationEdit.vue?a312","webpack://vueapp-cli/./src/modules/evaluations/pages/EvaluationEdit.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveDynamicComponent as _resolveDynamicComponent, withCtx as _withCtx, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"evaluation__edit space-y-4\" }\nconst _hoisted_2 = { class: \"module__heading\" }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h2\", { class: \"module__title\" }, \"Your Response\", -1)\nconst _hoisted_4 = { class: \"module__subtitle\" }\nconst _hoisted_5 = { class: \"cta pt-4 space-x-2\" }\nconst _hoisted_6 = [\"disabled\", \"onClick\"]\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"span\", null, \"Save Changes\", -1)\n\nimport { ref, withDefaults, toRef, computed } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\n//\nimport EvaluationForm from \"@/modules/evaluations/views/EvaluationForm.vue\";\nimport EvaluationSimple from \"@/modules/evaluations/views/EvaluationSimple.vue\";\nimport EvaluationRubric from \"@/modules/evaluations/views/EvaluationRubric.vue\";\nimport EvaluationMixed from \"@/modules/evaluations/views/EvaluationMixed.vue\";\nimport {\n  AboutThisPeerReview,\n  TakeNote,\n} from \"@/modules/evaluations/components\";\nimport { IconSpinner, IconWritingHand, IconChevronLeft } from \"@/common/icons\";\n//\n// REFERENCES\nimport { SimpleEvaluation, SimpleEvaluationData } from \"@/typings\";\n// const emit = defineEmits<{ (e: \"update:modelValue\", payload: string): void }>();\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'EvaluationEdit',\n  props: {\n    event_id: null,\n    group_id: null,\n    disabled: { type: Boolean, default: false },\n    evaluation: null,\n    loading: { type: Boolean },\n    error: null,\n    fetchEvaluation: null\n  },\n  setup(__props: any) {\n\nconst props = __props as { event_id?: string, group_id?: string, disabled: boolean, evaluation: SimpleEvaluation, loading: boolean, error: string | null, fetchEvaluation: () => void };\n\n\nconst router = useRouter();\nconst route = useRoute();\n// DATA\nconst eventId = route.params.event_id;\nconst groupId = route.params.group_id;\n//\nconst makeEvaluationRef = ref(null);\nconst evaluation = toRef(props, \"evaluation\");\n// Initial values\nconst formValues: SimpleEvaluationData = evaluation.value?.submission?.data;\n// COMPUTED\n// eslint-disable-next-line vue/return-in-computed-property\nconst event_template_type = computed(() => {\n  if (\n    \"event\" in evaluation.value &&\n    evaluation.value?.event?.is_released &&\n    !evaluation.value?.event?.is_result_released &&\n    evaluation.value?.event?.event_template_type_id\n  ) {\n    switch (Number(evaluation.value?.event?.event_template_type_id)) {\n      case 1:\n        return EvaluationSimple;\n      case 3:\n        return EvaluationRubric;\n      case 4:\n        return EvaluationMixed;\n      default:\n        break;\n    }\n  }\n  // router.push(\"/\");\n});\n\n// METHODS\nfunction goBack() {\n  window.history.length > 1 ? router.go(-1) : router.push(\"/\");\n}\n\n// WATCH\n// LIFECYCLE\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_unref(AboutThisPeerReview), {\n      description: _unref(evaluation)?.event?.description\n    }, null, 8, [\"description\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createElementVNode(\"h3\", _hoisted_4, [\n        _createVNode(_unref(IconWritingHand), {\n          class: \"\",\n          \"data-id\": \"WritingHand\"\n        }),\n        _createTextVNode(\" Evaluate your group \")\n      ])\n    ]),\n    (!_unref(evaluation))\n      ? (_openBlock(), _createBlock(_unref(IconSpinner), { key: 0 }))\n      : (_openBlock(), _createBlock(EvaluationForm, {\n          key: 1,\n          ref_key: \"makeEvaluationRef\",\n          ref: makeEvaluationRef,\n          \"form-values\": _unref(formValues)\n        }, {\n          default: _withCtx(({ values, errors, meta, isSubmitting, onSave }) => [\n            (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(event_template_type)), {\n              errors: errors,\n              isSubmitting: isSubmitting,\n              values: values\n            }, null, 8, [\"errors\", \"isSubmitting\", \"values\"])),\n            _createVNode(_unref(TakeNote)),\n            _createElementVNode(\"div\", _hoisted_5, [\n              _createElementVNode(\"button\", {\n                class: \"btn btn-cta flex items-center\",\n                type: \"button\",\n                onClick: goBack\n              }, [\n                _createVNode(_unref(IconChevronLeft), { class: \"w-4 h-4 -ml-1 mr-1\" }),\n                _createTextVNode(\" Back \")\n              ]),\n              _createElementVNode(\"button\", {\n                disabled: !meta.valid || !meta.touched || isSubmitting,\n                class: \"btn btn-cta submit\",\n                type: \"button\",\n                onClick: onSave\n              }, [\n                isSubmitting\n                  ? (_openBlock(), _createBlock(_unref(IconSpinner), {\n                      key: 0,\n                      class: \"w-4 h-4\"\n                    }))\n                  : _createCommentVNode(\"\", true),\n                _hoisted_7\n              ], 8, _hoisted_6)\n            ])\n          ]),\n          _: 1\n        }, 8, [\"form-values\"]))\n  ]))\n}\n}\n\n})","import script from \"./EvaluationEdit.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./EvaluationEdit.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_createElementVNode","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_defineComponent","__name","props","event_id","group_id","disabled","type","Boolean","default","evaluation","loading","error","fetchEvaluation","setup","__props","router","useRouter","route","useRoute","makeEvaluationRef","params","ref","toRef","formValues","value","submission","data","event_template_type","computed","event","is_released","is_result_released","event_template_type_id","Number","EvaluationSimple","EvaluationRubric","EvaluationMixed","goBack","window","history","length","go","push","_ctx","_cache","_openBlock","_createElementBlock","_createVNode","_unref","AboutThisPeerReview","description","IconWritingHand","_createTextVNode","_createBlock","EvaluationForm","key","ref_key","_withCtx","values","errors","meta","isSubmitting","onSave","_resolveDynamicComponent","TakeNote","onClick","IconChevronLeft","valid","touched","IconSpinner","_createCommentVNode","_","__exports__"],"sourceRoot":""}