import{d as N,j as s,r as f,l as $,m as w,c as D,p as o,w as b,q as a,D as F,S as G,F as B,G as C,u as S,o as r,H as U}from"./main.js";import{_ as j}from"./Loader.vue_vue_type_script_setup_true_lang.js";import{_ as P,I as R}from"./ViewHeading.vue_vue_type_script_setup_true_lang.js";import"./lodash.js";import"./_commonjsHelpers.js";const V=N({__name:"SubmissionIndex",props:{currentUser:null},setup(g,{emit:T}){const u=C(),y=s(u.params.event_id),h=s(u.params.group_id),n=s(""),k=s(null),E=f({id:"work in progress"});let e=f({});const x=s([]);async function i(){try{n.value="PENDING";const t=await S(`/evaluations/makeEvaluation/${y.value}/${h.value}`,{method:"GET",timeout:0});await Object.assign(e,t==null?void 0:t.data)}catch(t){k.value={text:t,type:"error"}}finally{n.value="READY"}}return $(async()=>{await i(),console.log({evaluation:e})}),(t,q)=>{var l;const I=U("router-view");return n.value==="PENDING"?(r(),w(j,{key:0})):(r(),D(B,{key:1},[o(F,{title:(l=a(e))==null?void 0:l.title},{default:b(()=>{var c,m,p,d,v,_;return[o(P,{"due-date":(c=a(e))==null?void 0:c.due_date,penalties:(m=a(e))==null?void 0:m.penalty,"group-name":(d=(p=a(e))==null?void 0:p.group)==null?void 0:d.name,"course-title":(_=(v=a(e))==null?void 0:v.course)==null?void 0:_.title,icon:{src:a(R),size:"6rem"}},null,8,["due-date","penalties","group-name","course-title","icon"])]}),_:1},8,["title"]),(r(),w(G,null,{default:b(()=>[o(I,{class:"tab-pane fade show active",id:"response",role:"tabpanel","aria-labelledby":"response-tab","current-user":g.currentUser,members:x.value,evaluation:a(e),reviews:E,"onFetch:evaluation":i},null,8,["current-user","members","evaluation","reviews"])]),_:1}))],64))}}});export{V as default};
