import{d as I,k,x as $,o as l,c as n,F as _,e as v,b as e,v as S,t as u,a7 as j,f as D,n as z,j as f}from"./main.386b2761.js";import"./rules.dc1b156b.js";import{_ as b}from"./UserCard.vue_vue_type_script_setup_true_lang.c748ae7e.js";import"./autosize.esm.7505a07e.js";const G={key:0,class:"evaluation-response"},L={class:"question"},R={key:0,class:"average-grade"},T={class:"standardtable center no-v-line"},U=e("th",{style:{width:"20%"}},[e("div",{class:""},[e("div",{class:""},"Peer"),e("div",{class:""})])],-1),A={class:""},H={class:""},J=e("div",{class:""},null,-1),K={class:"likert response"},M={class:"input"},O=["name","checked"],Q={class:"standardtable center no-v-line"},W=e("thead",null,[e("tr",null,[e("th",{style:{width:"20%"}},[e("div",{class:""},[e("div",{class:""},"Peer"),e("small",{class:""})])]),e("th",{style:{width:"80%"}},[e("div",{class:""},[e("div",{class:""},"Comments"),e("small",{class:""})])])])],-1),X={style:{width:"20%"}},Y={style:{width:"80%"}},Z={class:"sentence response"},ee={class:"text quote"},se={class:"datatable"},te={class:"question"},le=e("div",{class:"description"},null,-1),ne={class:"standardtable center no-v-line"},ae=e("thead",null,[e("tr",null,[e("th",{style:{width:"20%"}},[e("div",{class:""},[e("div",{class:""},"Peer"),e("div",{class:""})])]),e("th",{style:{width:"80%"}},[e("div",{class:""},[e("div",{class:""},"General Comments"),e("div",{class:""})])])])],-1),de={class:"sentence response"},ie={class:"text quote"},he=I({__name:"RubricEvaluation",props:{self:null,currentUser:null,members:null,reviews:null,isDisabled:{type:Boolean}},setup(x,{emit:oe}){const a=x;return(g,ue)=>{var q,B,C,E,N,P,V;return!k($.exports.isEmpty)(a.reviews)&&((B=(q=a.reviews)==null?void 0:q.event)==null?void 0:B.is_released)?(l(),n("div",G,[(l(!0),n(_,null,v((E=(C=a.reviews)==null?void 0:C.rubric)==null?void 0:E.criterias,s=>{var w,h;return l(),n("div",{class:"datatable",key:s.id},[e("div",L,[S(u(s.criteria_num)+". "+u(s.criteria)+" ",1),!k($.exports.isEmpty)(g.evaluatee)&&s.multiplier?(l(),n("span",R," \u2014 "+u(k(j).peer(g.evaluatee).where(s.criteria_num).reduce("grade","average").result().toFixed(1))+" / "+u(s.multiplier)+" marks ",1)):D("",!0)]),e("table",T,[e("thead",null,[e("tr",null,[U,(l(!0),n(_,null,v((h=(w=a.reviews)==null?void 0:w.rubric)==null?void 0:h.loms,t=>{var o,d;return l(),n("th",{style:z({width:80/((d=(o=a.reviews)==null?void 0:o.rubric)==null?void 0:d.loms)+"%"}),key:t.id},[e("div",A,[e("div",H,u(t.lom_comment),1),J])],4)}),128))])]),e("tbody",null,[(l(!0),n(_,null,v(x.members,t=>{var o,d;return l(),n("tr",{key:t.id},[e("td",null,[f(b,{member:t},null,8,["member"])]),(l(!0),n(_,null,v((d=(o=a.reviews)==null?void 0:o.rubric)==null?void 0:d.loms,c=>{var p,m,y,i,F;return l(),n("td",{key:c.id},[e("ul",K,[e("li",M,[e("input",{class:"form-check-input",type:"radio",name:`input_${t==null?void 0:t.id}_${s==null?void 0:s.criteria_num}`,checked:(c==null?void 0:c.lom_num)===((F=(i=(y=(m=(p=a.reviews)==null?void 0:p.evaluator)==null?void 0:m.find(r=>(r==null?void 0:r.evaluatee)===(t==null?void 0:t.id)))==null?void 0:y.details)==null?void 0:i.find(r=>(r==null?void 0:r.criteria_number)===(s==null?void 0:s.criteria_num)))==null?void 0:F.selected_lom),disabled:"disabled"},null,8,O)])])])}),128))])}),128))])]),e("table",Q,[W,e("tbody",null,[(l(!0),n(_,null,v(a.members,(t,o)=>{var d,c,p,m,y;return l(),n("tr",{key:t.id},[e("td",X,[f(b,{member:t},null,8,["member"])]),e("td",Y,[e("ul",Z,[e("li",ee,u((y=(m=(p=(c=(d=a.reviews)==null?void 0:d.evaluator)==null?void 0:c.find(i=>(i==null?void 0:i.evaluatee)===t.id))==null?void 0:p.details)==null?void 0:m.find(i=>(i==null?void 0:i.criteria_number)===(s==null?void 0:s.criteria_num)))==null?void 0:y.criteria_comment),1)])])])}),128))])])])}),128)),e("div",se,[e("div",te,u(((V=(P=(N=a.reviews)==null?void 0:N.rubric)==null?void 0:P.criterias)==null?void 0:V.length)+1)+". "+u("Please provide overall comments about each peer."),1),le,e("table",ne,[ae,e("tbody",null,[(l(!0),n(_,null,v(a.members,(s,w)=>{var h,t,o;return l(),n("tr",{key:s.id},[e("td",null,[f(b,{member:s},null,8,["member"])]),e("td",null,[e("ul",de,[e("li",ie,u((o=(t=(h=a.reviews)==null?void 0:h.evaluator)==null?void 0:t.find(d=>(d==null?void 0:d.evaluatee)===(s==null?void 0:s.id)))==null?void 0:o.comment),1)])])])}),128))])])])])):D("",!0)}}});export{he as default};
