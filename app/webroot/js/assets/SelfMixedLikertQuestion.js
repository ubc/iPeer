import{g as $}from"./rules.js";import"./autosize.esm.js";import{_ as z}from"./CustomRadioField.vue_vue_type_script_setup_true_lang.js";import{_ as B}from"./EvaluationForm.vue_vue_type_script_setup_true_lang.js";import{d as L,y as h,o as n,c as i,a as s,R as M,t as v,u as e,f as b,F as C,e as E,n as R,q as N,z as U,v as q}from"./main.js";const w={class:"question"},D={key:0,class:"text-red-500"},F={class:"description text-sm text-slate-900 leading-relaxed mx-4 mb-2"},I={class:"mx-4"},Q={class:"standardtable leftalignedtable"},T={class:"text-center leading-4"},j={class:"font-normal"},A={key:0,class:"text-sm font-thin"},W=L({__name:"SelfMixedLikertQuestion",props:{evaluation:null,question:null,currentUser:null,initialState:null},emits:["update:initialState"],setup(V,{emit:G}){const p=V,t=h(p,"question"),o=h(p,"currentUser"),f=h(p,"initialState");function g(x,c){var r,u,d;if(((r=f.value)==null?void 0:r.data)||!q.exports.isEmpty((u=f.value)==null?void 0:u.data)){const a=q.exports.find((d=f.value)==null?void 0:d.data,{evaluatee:x});if(a!=null&&a.details){const l=q.exports.find(a.details,{question_number:c});return l==null?void 0:l.selected_lom}}return 0}return(x,c)=>{var r,u,d,a,l,k;return n(),i("div",{class:U(`question_${(r=e(t))==null?void 0:r.question_num} mx-4`)},[s("div",w,[M(v((u=e(t))==null?void 0:u.question_num)+". "+v((d=e(t))==null?void 0:d.title)+" ",1),(a=e(t))!=null&&a.required?(n(),i("span",D,"*")):b("",!0)]),s("div",F,v((l=e(t))==null?void 0:l.instructions),1),s("div",I,[s("table",Q,[s("thead",null,[s("tr",null,[(n(!0),i(C,null,E((k=e(t))==null?void 0:k.loms,m=>{var _,y,S;return n(),i("th",{style:R("width: "+100/((y=(_=e(t))==null?void 0:_.loms)==null?void 0:y.length)+"%; text-align: center"),key:m.id},[s("div",T,[s("div",j,v(m.descriptor),1),parseInt((S=e(t))==null?void 0:S.show_marks)?(n(),i("div",A,"mark")):b("",!0)])],4)}),128))])]),s("tbody",null,[s("tr",null,[N(e(B),{name:"data["+e(o).id+"][EvaluationMixeval]["+e(t).question_num+"][selected_lom]",value:g(e(o).id,e(t).question_num)},null,8,["name","value"]),(n(!0),i(C,null,E(e(t).loms,m=>(n(),i("td",{style:{"text-align":"center",height:"36px"},key:m.id},[N(e(z),{name:"data["+e(o).id+"][EvaluationMixeval]["+e(t).question_num+"][grade]",value:m.scale_level,rules:e(t).required?e($):null,checked:g(e(o).id,e(t).question_num),onChange:c[0]||(c[0]=_=>x.$emit("update:initialState",{member_id:e(o).id,question_num:e(t).question_num,event:{key:"selected_lom",value:_.target.value}}))},null,8,["name","value","rules","checked"])]))),128))])])])])],2)}}});export{W as default};
//# sourceMappingURL=SelfMixedLikertQuestion.js.map
