import{i as $}from"./rules.js";import"./autosize.esm.js";import{_ as B}from"./CustomRadioField.vue_vue_type_script_setup_true_lang.js";import{_ as L}from"./EvaluationForm.vue_vue_type_script_setup_true_lang.js";import{d as M,A as q,o as a,c as i,b as s,v as U,t as p,k as e,f as b,F as C,e as E,n as w,j as N,q as z,x}from"./main.js";import"./evaluation.js";const D={class:"question"},F={key:0,class:"text-red-500"},R={class:"description"},j={class:"mx-4"},A={class:"standardtable leftalignedtable"},I={class:"text-center leading-4"},Q={class:"font-normal"},T={key:0,class:"text-sm font-thin"},X=M({__name:"SelfMixedLikertQuestion",props:{evaluation:null,question:null,currentUser:null,initialState:null},emits:["update:initialState"],setup(V,{emit:G}){const v=V,t=q(v,"question"),o=q(v,"currentUser"),f=q(v,"initialState");function k(h,m){var r,u,d;if(((r=f.value)==null?void 0:r.data)||!x.exports.isEmpty((u=f.value)==null?void 0:u.data)){const n=x.exports.find((d=f.value)==null?void 0:d.data,{evaluatee:h});if(n!=null&&n.details){const l=x.exports.find(n.details,{question_number:m});return l==null?void 0:l.selected_lom}}return 0}return(h,m)=>{var r,u,d,n,l,g;return a(),i("div",{class:z(`question_${(r=e(t))==null?void 0:r.question_num}`)},[s("div",D,[U(p((u=e(t))==null?void 0:u.question_num)+". "+p((d=e(t))==null?void 0:d.title)+" ",1),(n=e(t))!=null&&n.required?(a(),i("span",F,"*")):b("",!0)]),s("div",R,p((l=e(t))==null?void 0:l.instructions),1),s("div",j,[s("table",A,[s("thead",null,[s("tr",null,[(a(!0),i(C,null,E((g=e(t))==null?void 0:g.loms,c=>{var _,y,S;return a(),i("th",{style:w("width: "+100/((y=(_=e(t))==null?void 0:_.loms)==null?void 0:y.length)+"%; text-align: center"),key:c.id},[s("div",I,[s("div",Q,p(c.descriptor),1),parseInt((S=e(t))==null?void 0:S.show_marks)?(a(),i("div",T,"mark")):b("",!0)])],4)}),128))])]),s("tbody",null,[s("tr",null,[N(e(L),{name:"data["+e(o).id+"][EvaluationMixeval]["+e(t).question_num+"][selected_lom]",value:k(e(o).id,e(t).question_num)},null,8,["name","value"]),(a(!0),i(C,null,E(e(t).loms,c=>(a(),i("td",{style:{"text-align":"center",height:"36px"},key:c.id},[N(e(B),{name:"data["+e(o).id+"][EvaluationMixeval]["+e(t).question_num+"][grade]",value:c.scale_level,rules:e(t).required?e($):null,checked:k(e(o).id,e(t).question_num),onChange:m[0]||(m[0]=_=>h.$emit("update:initialState",{member_id:e(o).id,question_num:e(t).question_num,event:{key:"selected_lom",value:_.target.value}}))},null,8,["name","value","rules","checked"])]))),128))])])])])],2)}}});export{X as default};
//# sourceMappingURL=SelfMixedLikertQuestion.js.map
