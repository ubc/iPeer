import{d as E,x as v,o as l,c as o,a,O as N,t as m,q as t,f as I,F as h,e as f,n as V,p as x,y as C,v as q}from"./main.0c68aaf8.js";import{b as z}from"./rules.ddca6216.js";import{_ as B}from"./UserCard.vue_vue_type_script_setup_true_lang.fb0ccdad.js";import{_ as L}from"./EvaluationForm.vue_vue_type_script_setup_true_lang.21969799.js";import{_ as R}from"./CustomRadioField.vue_vue_type_script_setup_true_lang.f6dc248d.js";import"./index.58935068.js";const D={class:"question"},F={key:0,class:"text-red-500"},P={class:"description text-sm text-slate-900 leading-relaxed mx-4 mb-2"},A={class:"standardtable leftalignedtable"},G=a("th",{style:{width:"20%"}},[a("div",{class:"text-center leading-4"},[a("div",{class:"font-normal"},"Peer"),a("div",{class:"text-sm font-thin"})])],-1),O={class:"text-center leading-4"},Q={class:"font-normal"},T={key:0,class:"text-sm font-thin"},Y=E({__name:"PeerMixedLikertQuestion",props:{members:null,evaluation:null,question:null,initialState:null},emits:["update:initialState"],setup(g,{emit:U}){const d=g,M=v(d,"members"),s=v(d,"question"),p=v(d,"initialState");function w(c,_,r,e){const u=Math.pow(10,1),n=parseInt(c)/(_-parseInt(r))*parseInt(e),i=Math.floor(n*u)/u;return`(${i} mark${i>1?"s":""})`}function k(c,_){var r,e,u;if(((r=p.value)==null?void 0:r.data)||!q.exports.isEmpty((e=p.value)==null?void 0:e.data)){const n=q.exports.find((u=p.value)==null?void 0:u.data,{evaluatee:c});if(n!=null&&n.details){const i=q.exports.find(n.details,{question_number:_});return i?i==null?void 0:i.selected_lom:""}}return 0}return(c,_)=>{var r;return l(),o("div",{class:C(`datatable question_${t(s).question_num} mx-4`)},[a("div",D,[N(m(t(s).question_num)+". "+m(t(s).title)+" ",1),t(s).required?(l(),o("span",F,"*")):I("",!0)]),a("div",P,m(t(s).instructions),1),a("table",A,[a("thead",null,[a("tr",null,[G,(l(!0),o(h,null,f((r=d.question)==null?void 0:r.loms,(e,u)=>{var n,i,y,b,S,$;return l(),o("th",{style:V("width: "+80/((n=d.question)==null?void 0:n.loms.length)+"%; text-align: center"),key:e.id},[a("div",O,[a("div",Q,m(e.descriptor),1),parseInt((i=d.question)==null?void 0:i.show_marks)?(l(),o("div",T,m(w((y=t(s))==null?void 0:y.multiplier,(b=t(s))==null?void 0:b.loms.length,($=(S=g.evaluation)==null?void 0:S.mixed)==null?void 0:$.zero_mark,e==null?void 0:e.scale_level)),1)):I("",!0)])],4)}),128))])]),a("tbody",null,[(l(!0),o(h,null,f(t(M),(e,u)=>(l(),o("tr",{key:e.id},[x(L,{name:"data["+e.id+"][EvaluationMixeval]["+t(s).question_num+"][selected_lom]",value:k(e.id,t(s).question_num)},null,8,["name","value"]),a("td",null,[x(B,{member:e},null,8,["member"])]),(l(!0),o(h,null,f(t(s).loms,n=>(l(),o("td",{style:{"text-align":"center"},key:n.id,class:C({"has-error":!!c.error})},[x(R,{name:"data["+e.id+"][EvaluationMixeval]["+t(s).question_num+"][grade]",value:n.scale_level,rules:t(s).required?t(z):null,checked:k(e.id,t(s).question_num),onChange:i=>c.$emit("update:initialState",{member_id:e.id,question_num:t(s).question_num,event:{key:"selected_lom",value:i.target.value}})},null,8,["name","value","rules","checked","onChange"])],2))),128))]))),128))])])],2)}}});export{Y as default};
