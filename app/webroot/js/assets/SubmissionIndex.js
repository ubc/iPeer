import{d as B,u as I,R as U,D as k,r as V,i as s,E as z,C as i,k as t,c as D,j as n,w as F,F as M,f as N,Q as j,z as A,o as a}from"./main.js";import{u as G}from"./reviews.js";import{_ as Q}from"./Loader.vue_vue_type_script_setup_true_lang.js";import{_ as T}from"./PageHeading.vue_vue_type_script_setup_true_lang.js";import{_ as q,I as H}from"./ViewHeading.vue_vue_type_script_setup_true_lang.js";import{_ as E}from"./NotAvailable.vue_vue_type_script_setup_true_lang.js";const se=B({__name:"SubmissionIndex",setup(J,{emit:K}){const o=j();I();const y=U(),r=G(),C=k(o.params.event_id),S=k(o.params.group_id),e=V({loading:s(()=>r.loading),error:s(()=>r.error),hasError:s(()=>r.hasError),reviews:s(()=>r.reviews),members:s(()=>r.getGroupMembers)}),$=s(()=>y.getCurrentUser),x=s(()=>o.name==="submission.view");return z(async()=>await r.fetchReviews(C.value,S.value)),(L,O)=>{var u,m,c,d;const R=A("router-view");return e.loading?(a(),i(Q,{key:0})):!e.loading&&e.hasError&&!e.reviews?(a(),i(t(E),{key:1,data:e.error},null,8,["data"])):!e.loading&&!e.hasError&&e.reviews?(a(),D(M,{key:2},[n(T,{title:(m=(u=e.reviews)==null?void 0:u.event)==null?void 0:m.title,settings:{title:`View ${(d=(c=e.reviews)==null?void 0:c.event)==null?void 0:d.title}`}},{default:F(()=>{var l,v,_,p,w,f,g,b,h;return[n(q,{"due-date":(v=(l=e.reviews)==null?void 0:l.event)==null?void 0:v.due_date,"submitted-date":(p=(_=e.reviews)==null?void 0:_.simple)==null?void 0:p.date_submitted,"is-result-released":(f=(w=e.reviews)==null?void 0:w.event)==null?void 0:f.is_result_released,penalties:(g=e.reviews)==null?void 0:g.penalty,group:(b=e.reviews)==null?void 0:b.group,course:(h=e.reviews)==null?void 0:h.course,icon:{src:t(H),size:"6rem"}},null,8,["due-date","submitted-date","is-result-released","penalties","group","course","icon"])]}),_:1},8,["title","settings"]),n(R,{class:"tab-pane fade show active","current-user":t($),members:e.members,reviews:e.reviews,"is-disabled":t(x)},null,8,["current-user","members","reviews","is-disabled"])],64)):!e.loading&&e.hasError&&!e.reviews?(a(),i(t(E),{key:3,status:"custom",data:e.error},null,8,["data"])):N("",!0)}}});export{se as default};
//# sourceMappingURL=SubmissionIndex.js.map
