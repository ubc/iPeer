import{d as $,L as C,j as s,r as w,l as B,p as g,c as D,q as o,w as b,u as t,S as F,F as S,m as U,o as u,M as j}from"./main.js";import{_ as G}from"./Loader.vue_vue_type_script_setup_true_lang.js";import{_ as M}from"./PageHeading.vue_vue_type_script_setup_true_lang.js";import{_ as O,I as P}from"./ViewHeading.vue_vue_type_script_setup_true_lang.js";const K=$({__name:"SubmissionIndex",props:{currentUser:null},setup(y,{emit:R}){const i=C(),k=s(i.params.event_id),h=s(i.params.group_id),n=s(""),x=s(null),E=w({id:"work in progress"});let a=w({});const I=s([]);async function l(){var r;n.value="PENDING";try{const e=await U.get("/evaluations/makeEvaluation",`${k.value}/${h.value}`);e.status===200&&e.statusText==="OK"&&await Object.assign(a,(r=e==null?void 0:e.data)==null?void 0:r.data)}catch(e){x.value={text:e.message,status:e.statusCode,type:"error"}}finally{n.value="READY"}}return B(async()=>{await l()}),(r,e)=>{var c;const N=j("router-view");return n.value==="PENDING"?(u(),g(G,{key:0})):(u(),D(S,{key:1},[o(M,{title:(c=t(a))==null?void 0:c.title},{default:b(()=>{var m,p,d,_,v,f;return[o(O,{"due-date":(m=t(a))==null?void 0:m.due_date,penalties:(p=t(a))==null?void 0:p.penalty,"group-name":(_=(d=t(a))==null?void 0:d.group)==null?void 0:_.name,"course-title":(f=(v=t(a))==null?void 0:v.course)==null?void 0:f.title,icon:{src:t(P),size:"6rem"}},null,8,["due-date","penalties","group-name","course-title","icon"])]}),_:1},8,["title"]),(u(),g(F,null,{default:b(()=>[o(N,{class:"tab-pane fade show active",id:"response",role:"tabpanel","aria-labelledby":"response-tab","current-user":y.currentUser,members:I.value,evaluation:t(a),reviews:E,"onFetch:evaluation":l},null,8,["current-user","members","evaluation","reviews"])]),_:1}))],64))}}});export{K as default};
//# sourceMappingURL=SubmissionIndex.js.map
