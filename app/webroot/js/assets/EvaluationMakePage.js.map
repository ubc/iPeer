{"version":3,"mappings":"ynBAeeA,EAAU,EAGnB,QAAWC,EAAS,IAAM,OACtB,YAAM,aAAN,cAAkB,uBAAwB,CAChD,IAAK,IACI,SAAqB,IAAMC,aAAO,yBAAiD,gcAC5F,IAAK,IACI,SAAqB,IAAMA,aAAO,yBAAiD,8ZAC5F,IAAK,IACI,SAAqB,UAAM,OAAO,wBAAgD,2OAG7F,EACD,EAID,SAAU,IAAM,CAoBd,CAED","names":["useRouter","computed","__vitePreload"],"sources":["../../../vueapp/src/student/views/EvaluationMakePage.vue"],"sourcesContent":["<script lang=\"ts\" setup>\nimport { toRef, computed, onMounted, defineAsyncComponent} from 'vue'\nimport { useRouter } from 'vue-router'\nimport IconSpinner from '@/components/icons/IconSpinner.vue'\nimport TakeNote from '@/student/components/TakeNote.vue'\n\nimport type { IUser, IEvaluation } from '@/types/typings'\n// REFERENCES\nconst emit  = defineEmits<{}>()\nconst props = defineProps<{\n  members: IUser[]\n  currentUser: IUser\n  evaluation: IEvaluation\n  settings: object\n}>()\nconst router = useRouter()\n// DATA\n// COMPUTED\nconst template = computed(() => {\n  switch (props.evaluation?.event_template_type_id) {\n    case '1':\n      return defineAsyncComponent(() => import('@/student/views/templates/SimpleEvaluation.vue'))\n    case '2':\n      return defineAsyncComponent(() => import('@/student/views/templates/RubricEvaluation.vue'))\n    case '4':\n      return defineAsyncComponent(() => import('@/student/views/templates/MixedEvaluation.vue'))\n    default:\n      break\n  }\n})\n// METHODS\n// WATCH\n// LIFECYCLE\nonMounted(() => {\n  if( import.meta.env.VITE_APP_ENV !== 'development' ) {\n    /** ::NOTE::\n     * Remove the first if() statement for production\n     * the if() statement allows developer to view unfinished\n     * work even if the eval results are released\n     **/\n    if(props.evaluation?.is_released) {\n      if (props.evaluation?.is_result_released) {\n        router.push({ name: 'submission.view' })\n      } else {\n        if(props.evaluation?.status === '1') {\n          router.push({ name: 'evaluation.edit' })\n        } else {\n          router.push({ name: 'evaluation.make' })\n        }\n      }\n    } else {\n      router.push({ name: 'not.found' })\n    }\n  }\n\n})\n</script>\n\n<template>\n  <div class=\"evaluation-make-page\">\n    <component\n      :is=\"template\"\n      :members=\"props.members\"\n      :evaluation=\"props.evaluation\"\n      :currentUser=\"props.currentUser\"\n    >\n      <template v-slot:header></template>\n      <template v-slot:main></template>\n      <template v-slot:footer><TakeNote /></template>\n      <template v-slot:cta=\"{ onSave, isSubmitting }\" v-if=\"!props.evaluation?.is_result_released\">\n        <div class=\"cta\">\n          <button type=\"button\" class=\"button default flex items-center\" @click=\"onSave\">\n            <span>Save Draft</span>\n          </button>\n          <button type=\"submit\" class=\"button submit flex items-center\">\n            <IconSpinner v-if=\"isSubmitting\" />\n            <span>Submit Peer Review</span>\n          </button>\n        </div>\n      </template>\n    </component>\n  </div>\n</template>\n"],"file":"js/assets/EvaluationMakePage.js"}