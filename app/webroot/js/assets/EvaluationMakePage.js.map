{"version":3,"mappings":"oyBAmBcA,EAAS,EACvB,MAAMC,EAASC,IAETC,EAAcC,EAAMC,EAAO,SAAS,EACpCC,EAAcF,EAAMC,EAAO,aAAa,EACxCE,EAAcH,EAAMC,EAAO,YAAY,EAEvCG,EAAWC,EAAS,IAAM,OACtB,YAAW,QAAX,cAAkB,SAAU,CAClC,IAAK,mBACH,OAAOC,EAAqB,CAC1B,OAAQ,IAAMC,aAAO,0XACrB,iBAAkBC,EAClB,eAAgBC,EACjB,EACH,IAAK,mBACH,OAAOH,EAAqB,CAC1B,OAAQ,IAAMC,aAAO,4ZACrB,iBAAkBC,EAClB,eAAgBC,EACjB,EACH,IAAK,kBACH,OAAOH,EAAqB,CAC1B,OAAQ,IAAMC,aAAO,2UACrB,iBAAkBC,EAClB,eAAgBC,EACjB,CAGL,EACD,EAID,SAAU,IAAM,SACXC,IAAW,QAAX,cAAkB,UAAW,IAC9Bb,EAAO,KAAK,CAAE,KAAM,iBAAmB,GAEvCA,EAAO,KAAK,CAAE,KAAM,iBAAmB,EACzC,CACD","names":["useRoute","router","useRouter","members","toRef","props","currentUser","evaluation","template","computed","defineAsyncComponent","__vitePreload","LoadingComponent","ErrorComponent","_a"],"sources":["../../../vueapp/src/student/views/EvaluationMakePage.vue"],"sourcesContent":["<script lang=\"ts\" setup>\nimport { toRef, computed, onMounted, defineAsyncComponent} from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport LoadingComponent from '@/components/LoadingComponent.vue'\nimport ErrorComponent from '@/components/ErrorComponent.vue'\nimport IconSpinner from '@/components/icons/IconSpinner.vue'\nimport TakeNote from '@/student/components/TakeNote.vue'\nimport type { IUser, IEvaluation } from '@/types/typings'\n// REFERENCES\nconst emit = defineEmits<{\n  (e: 'fetch:evaluation'): void\n  (e: 'set:message', option: object): void\n}>()\nconst props = defineProps<{\n  members: IUser[]\n  currentUser: IUser\n  evaluation: IEvaluation\n  settings: object\n}>()\nconst route = useRoute()\nconst router = useRouter()\n// DATA\nconst members     = toRef(props, 'members')\nconst currentUser = toRef(props, 'currentUser')\nconst evaluation  = toRef(props, 'evaluation')\n// COMPUTED\nconst template = computed(() => {\n  switch (evaluation.value?.template) {\n    case 'SimpleEvaluation':\n      return defineAsyncComponent({\n        loader: () => import('@/student/views/templates/SimpleEvaluation.vue'),\n        loadingComponent: LoadingComponent /* shows while loading */,\n        errorComponent: ErrorComponent /* shows if there's an error */,\n      })\n    case 'RubricEvaluation':\n      return defineAsyncComponent({\n        loader: () => import('@/student/views/templates/RubricEvaluation.vue'),\n        loadingComponent: LoadingComponent /* shows while loading */,\n        errorComponent: ErrorComponent /* shows if there's an error */,\n      })\n    case 'MixedEvaluation':\n      return defineAsyncComponent({\n        loader: () => import('@/student/views/templates/MixedEvaluation.vue'),\n        loadingComponent: LoadingComponent /* shows while loading */,\n        errorComponent: ErrorComponent /* shows if there's an error */,\n      })\n    default:\n      break\n  }\n})\n// METHODS\n// WATCH\n// LIFECYCLE\nonMounted(() => {\n  if(evaluation.value?.status === '1') {\n    router.push({ name: 'evaluation.edit' })\n  } else {\n    router.push({ name: 'evaluation.make' })\n  }\n})\n</script>\n\n<template>\n  <div class=\"evaluation-make-page\">\n    <component\n      :is=\"template\"\n      :members=\"members\"\n      :evaluation=\"evaluation\"\n      :currentUser=\"currentUser\"\n      @set:message=\"$emit('set:message', $event)\"\n      @fetch:evaluation=\"$emit('fetch:evaluation')\"\n    >\n      <template v-slot:header></template>\n      <template v-slot:main></template>\n      <template v-slot:footer><TakeNote /></template>\n      <template v-slot:cta=\"{ onSave, isSubmitting }\">\n        <div class=\"cta\">\n          <button type=\"button\" class=\"button default flex items-center\" @click=\"onSave\">\n            <span>Save Draft</span>\n          </button>\n          <button type=\"submit\" class=\"button submit flex items-center\">\n            <IconSpinner v-if=\"isSubmitting\" />\n            <span>Submit Peer Review</span>\n          </button>\n        </div>\n      </template>\n    </component>\n  </div>\n</template>\n"],"file":"js/assets/EvaluationMakePage.js"}