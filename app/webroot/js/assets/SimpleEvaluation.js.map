{"version":3,"file":"SimpleEvaluation.js","sources":["../../../vueapp/src/components/fields/CustomRangeField.vue","../../../vueapp/src/assets/img/spinner.gif","../../../vueapp/src/student/views/questions/PeerSimpleRangeQuestion.vue","../../../vueapp/src/student/views/templates/SimpleEvaluation.vue"],"sourcesContent":["<script lang=\"ts\" setup>\nimport {computed, toRefs} from 'vue';\nimport { useField } from 'vee-validate'\n\nexport interface Props {\n  label?: string\n  name: string\n  value: string\n  response?: object\n  points?: string | number\n  rules?: string\n  disabled?: boolean\n  placeholder?: string\n  min?: string | number\n  step?: string | number\n  max?: string | number\n  text?: string[]\n  remaining?: number\n  point_per_member?: string\n}\n\n// REFERENCES\nconst emit = defineEmits<{\n  (e: 'update:input', option: object): void\n}>()\nconst props = withDefaults(defineProps<Props>(), {\n  min: 0,\n  step: 1,\n  max: 100,\n  text: () => ['min', 'max'],\n  placeholder: '',\n  disabled: false\n})\n\nconst { name, value } = toRefs(props);\nconst { value: inputValue, errorMessage, handleBlur, handleChange, meta } = useField(name, props.rules, {\n  initialValue: props.value,\n  validateOnValueUpdate: true\n});\n// DATA\nconst validationListeners = {\n  blur: handleChange,\n  change: handleChange,\n  input: (e: unknown) => handleChange(e, !!errorMessage.value)\n}\n// COMPUTED\n// METHODS\n// WATCH\n// LIFECYCLE\n</script>\n\n<template>\n  <div class=\"block block-slider\" :class=\"{ 'has-error': !!errorMessage, success: meta.valid }\">\n    <label class=\"form-range form-range-inline flex flex-col\">\n      <span class=\"form-range-label text-slate-500\">{{ props.label }}</span>\n      <span class=\"tick\"></span>\n      <input class=\"form-range-input\" type=\"range\"\n             :min=\"props.min\" :step=\"props.step\" :max=\"props.max\"\n             :name=\"name\"\n             :value=\"inputValue\"\n             :disabled=\"disabled\"\n             v-on=\"validationListeners\"\n             @input=\"$emit('update:input', $event)\"\n             @blur=\"handleBlur\"\n      />\n    </label>\n    <div v-if=\"props.text\" class=\"flex justify-between items-center\">\n      <div v-if=\"props.text[0]\" class=\"min text-sm text-slate-500 font-normal\">{{ props.text[0] }}</div>\n      <div v-if=\"props.text[1]\" class=\"max text-sm text-slate-500 font-normal\">{{ props.text[1] }}</div>\n    </div>\n  </div>\n</template>\n","export default \"data:image/gif;base64,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\"","<script lang=\"ts\" setup>\nimport {ref, reactive, watch, computed, onMounted, toRef, onBeforeMount} from 'vue'\nimport { findIndex, forEach, map, reduce } from 'lodash'\nimport UserCard from '@/student/components/UserCard.vue'\nimport AutoSpinner from '@/components/AutoSpinner.vue'\nimport { CustomRangeField } from '@/components/fields'\nimport type { ISimpleEvaluation, ISimpleResponse, ISimpleReview, User } from '@/types/typings'\n// REFERENCES\nconst emit = defineEmits<{\n  // (e: 'update:modelValue', option: string): void\n}>()\nconst props = defineProps<{\n  members: User[]\n  initialState: ISimpleResponse\n  remaining: number\n  point_per_member: string\n  name: string\n  label?: string\n  question?: string\n  description?: string\n  placeholder?: string\n  disabled?: boolean|false\n  autosave?: boolean\n}>();\n// DATA\nconst showScore       = ref(false)\nconst response        = toRef(props, 'initialState')\nconst total_points    = ref(props.remaining ?? props.members.length * props.point_per_member) // 100\nconst student_slider  = ref([])\nconst slider_sum      = ref(0)\nconst student_scores  = ref([])\n// COMPUTED\n// METHODS\nfunction updateStudentSlider(event: {target:string, key:string, value: string}) {\n  const {target, key, value} = event;\n  const oldValue = student_slider.value[key]\n  slider_sum.value += parseInt(value) - oldValue\n  if (slider_sum.value <= 0){\n    student_scores.value = map(student_scores.value, () => total_points.value / student_scores.value.length)\n  } else {\n    student_slider.value[key] = parseInt(value);\n    student_scores.value = map(student_slider.value, (sliderValue) => Math.round(total_points.value * sliderValue / slider_sum.value))\n  }\n  distributeDecimalRemainder()\n  response.value.data.points = student_scores.value\n}\n// LIFECYCLE\nonBeforeMount(() => {\n  const initialPoints: number[] | undefined = response.value?.data?.points\n  if (initialPoints?.length) {\n    student_scores.value = [...initialPoints]\n    student_slider.value = map(initialPoints, (val, index) => {\n      const studentScoreValue = parseInt(val)\n      const studentPercentValue = studentScoreValue / total_points.value\n      const defaultStudentSliderValue = 100 * studentPercentValue\n      slider_sum.value += defaultStudentSliderValue;\n      return defaultStudentSliderValue\n    })\n  } else {\n    const defaultStudentSliderValue = Math.round(total_points.value / props.members.length)\n    student_slider.value = map(props.members, () => defaultStudentSliderValue)\n    slider_sum.value = defaultStudentSliderValue * props.members?.length\n    student_scores.value = map(props.members, () => total_points.value / props.members.length)\n  }\n})\n// WATCH\nfunction distributeDecimalRemainder() {\n  const studentScoreSum = reduce(student_scores.value, (acc, val) => acc += val, 0);\n  const remainder = total_points.value - studentScoreSum\n  const lowestScore = remainder > 0 ? Math.min(...student_scores.value) : Math.max(...student_scores.value)\n  const memberIdx = findIndex(student_scores.value, (val) => val === lowestScore)\n  student_scores.value[memberIdx] += remainder\n}\n</script>\n\n<template>\n  <div class=\"datatable\">\n    <div v-if=\"props.question\" class=\"question\">\n      <AutoSpinner :text=\"props.question\" :autosave=\"props.autosave\" />\n    </div>\n    <div v-if=\"props.description\" class=\"description text-sm mx-4 mb-2\">{{ props.description }}</div>\n\n    <table class=\"standardtable\">\n      <thead>\n      <tr>\n        <th style=\"width: 20%\">\n          <div class=\"text-center leading-4\">\n            <div class=\"font-normal\">Peer</div>\n            <div class=\"text-sm font-thin\"></div>\n          </div>\n        </th>\n        <th style=\"width: 80%\">\n          <div class=\"text-center leading-4\">\n            <div class=\"font-normal\">Relative C<span  @click=\"showScore = !showScore\">o</span>ntribution</div>\n            <div class=\"text-sm font-thin\"></div>\n          </div>\n        </th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-for=\"(member, memberIdx) of props.members\" :key=\"member.id\">\n        <td style=\"width: 20%\"><UserCard :member=\"member\" /></td>\n        <td style=\"width: 80%\">\n          <input type=\"hidden\" :name=\"`${name}[${memberIdx}]`\" :value=\"response?.data && response?.data[name] ? response?.data[name][memberIdx] : ''\" />\n          <CustomRangeField\n              :max=\"props.remaining\"\n              :text=\"['Less', 'More']\"\n              :label=\"'A fair amount'\"\n              :name=\"`percent[${memberIdx}]`\"\n              :value=\"response?.data?.points[memberIdx]\"\n              :response=\"response?.data?.points\"\n              :points=\"response?.data && response?.data?.points ? response?.data?.points[memberIdx] : ''\"\n              :placeholder=\"placeholder\"\n              :disabled=\"props.disabled\"\n              :remaining=\"props.remaining\"\n              :point_per_member=\"props.point_per_member\"\n              @update:input=\"updateStudentSlider({target:name, key:memberIdx, value: $event.target.value})\"\n          />\n          <!--\n          :max=\"props.remaining\"\n          :value=\"student_slider[memberIdx]\"\n          :value=\"response?.data?.points[memberIdx]\"\n          -->\n          <div v-if=\"showScore\" class=\"text-xs text-red-400\">{{ response?.data && response?.data?.points ? response?.data?.points[memberIdx] : '' }}</div>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n</template>","<script lang=\"ts\" setup>\nimport { ref, unref, toRef, reactive, watch, computed, onBeforeMount } from 'vue';\nimport { useRoute, useRouter } from 'vue-router'\nimport { isEmpty, map } from 'lodash'\n\nimport TakeNote from '@/student/components/TakeNote.vue'\nimport EvaluationForm from '@/student/views/EvaluationForm.vue'\nimport PeerSimpleRangeQuestion from '@/student/views/questions/PeerSimpleRangeQuestion.vue'\nimport PeerSimpleCommentQuestion from '@/student/views/questions/PeerSimpleCommentQuestion.vue'\nimport { CustomHiddenField } from '@/components/fields'\n\nimport type { IUser, IEvaluation, ISimpleEvaluation, ISimpleEvaluationData, ISimpleResponse, ISimpleResponseData } from '@/types/typings'\n// REFERENCES\nconst emit = defineEmits<{\n  (e: 'fetch:evaluation'): void\n}>()\nconst props = defineProps<{\n  members: IUser[]\n  currentUser: IUser\n  evaluation: IEvaluation\n  disabled: boolean\n}>()\nconst route = useRoute()\nconst router = useRouter()\n// DATA\nconst evaluation_form = ref()\nconst evaluation      = toRef(props, 'evaluation')\nconst form              = reactive({\n  event_id: computed(() => evaluation.value?.id),\n  group_id: computed(() => evaluation.value?.group?.id),\n  course_id: computed(() => evaluation.value?.course?.id),\n  group_event_id: computed(() => evaluation.value?.group_event_id),\n  rubric_id: computed(() => evaluation.value?.rubric_id),\n  user_id: computed(() => props.currentUser?.id),\n  evaluatee_count: computed(() => evaluation.value?.members?.length),\n  member_ids: computed<string[]>(() => map(evaluation.value?.members, member => member.id))\n})\nconst initialState      = ref<ISimpleResponse|any>({})\nfunction getInitialState() {\n  return {\n    id: '',\n    submitter_id: props.currentUser?.id,\n    submitted: null,\n    date_submitted: '',\n    data: {\n      points: [],\n      comments: []\n    }\n  }\n}\n// points: [map(props.evaluation?.members, (member) => props.evaluation?.simple?.point_per_member)],\nfunction setInitialState() {}\nconst questions = reactive({\n  points: {\n    title: '1. Please rate each peer\\'s relative contribution.',\n    description: ''\n  },\n  comments: {\n    title: '2. Please provide overall comments about each peer.',\n    description: ''\n  }\n})\n// COMPUTED\n// METHODS\n// WATCH\n// LIFECYCLE\nonBeforeMount(() => {\n  const currentState = getInitialState()\n  if(evaluation.value?.response && !isEmpty(evaluation.value?.response)) {\n    initialState.value = Object.assign(currentState, unref(evaluation.value?.response))\n  } else {\n    initialState.value = currentState\n  }\n})\n</script>\n\n<template>\n  <EvaluationForm\n      @submit=\"onSubmit\"\n      :initial-state=\"initialState\"\n      :evaluation=\"evaluation\"\n      v-slot=\"{ onSave, errors, values, isSubmitting, evaluationRef, message, autosave }\"\n      @set:message=\"$emit('set:message', message)\"\n  >\n    <slot name=\"header\">\n      <CustomHiddenField type=\"hidden\" name=\"event_id\" :value=\"evaluation?.id\" />\n      <CustomHiddenField type=\"hidden\" name=\"group_id\" :value=\"evaluation?.group?.id\" />\n      <CustomHiddenField type=\"hidden\" name=\"course_id\" :value=\"evaluation?.course?.id\" />\n      <CustomHiddenField type=\"hidden\" name=\"data[Evaluation][evaluator_id]\" :value=\"currentUser?.id\" />\n      <CustomHiddenField type=\"hidden\" name=\"evaluateeCount\" :value=\"evaluation?.members?.length\" />\n      <CustomHiddenField type=\"hidden\" name=\"memberIDs[]\" v-for=\"(m,i) of form?.member_ids\" :key=\"i\" :value=\"m\" />\n    </slot>\n\n    <slot name=\"main\">\n      <PeerSimpleRangeQuestion\n          :members=\"evaluation?.members\"\n          :remaining=\"evaluation?.simple?.remaining\"\n          :point_per_member=\"evaluation?.simple?.point_per_member\"\n          :initialState=\"initialState\"\n          :name=\"`points`\"\n          :question=\"questions.points.title\"\n          :description=\"questions.points.description\"\n          :disabled=\"disabled\"\n          :autosave=\"autosave\"\n      />\n      <PeerSimpleCommentQuestion\n          :members=\"evaluation?.members\"\n          :initialState=\"initialState\"\n          :name=\"'comments'\"\n          :question=\"questions.comments.title\"\n          :description=\"questions.comments.description\"\n          :disabled=\"disabled\"\n          :autosave=\"autosave\"\n      />\n    </slot>\n\n    <slot name=\"footer\"></slot>\n\n    <slot name=\"cta\" :on-save=\"onSave\" :is-submitting=\"isSubmitting\" :values=\"values\"></slot>\n\n  </EvaluationForm>\n</template>\n\n<style lang=\"scss\">\n.notification {\n  &.success {\n    @apply text-green-600;\n  }\n  &.danger {\n    @apply text-red-600;\n  }\n}\n</style>"],"names":["name","value","toRefs","props","inputValue","errorMessage","handleBlur","handleChange","meta","useField","validationListeners","e","ImgSpinner","showScore","ref","response","toRef","total_points","_a","student_slider","slider_sum","student_scores","updateStudentSlider","event","target","key","oldValue","map","sliderValue","distributeDecimalRemainder","onBeforeMount","initialPoints","_b","val","index","studentPercentValue","defaultStudentSliderValue","_c","studentScoreSum","reduce","acc","remainder","lowestScore","memberIdx","findIndex","useRoute","useRouter","evaluation","form","reactive","computed","member","initialState","getInitialState","questions","currentState","isEmpty","unref"],"mappings":"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"}