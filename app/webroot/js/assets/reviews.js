import{V as u,u as l,W as n,X as m,R as d,x as h}from"./main.js";const f=u("reviews",{state:()=>({loading:!1,error:null,reviews:null,members:null}),actions:{async fetchReviews(s,a){var i,t,r;l(),this.loading=!0,this.error=null,this.reviews=null,this.members=null;try{const e=await n.get("/evaluations/studentViewEvaluationResult",`${s}/${a}`);switch(e.status){case 200:e.statusText==="OK"?(this.reviews=await((i=e==null?void 0:e.data)==null?void 0:i.data),this.members=await((r=(t=e==null?void 0:e.data)==null?void 0:t.data)==null?void 0:r.members)):this.error={message:e.data.message,status:e.status,type:"error"};break;case 202:this.error=e.data;break;default:break}}catch(e){e.response.status===500?this.error={status:e.response.status,text:e.response.data.message,code:e.code,message:e.message,type:"error"}:e.response.status===404?this.error={status:e.status,message:e.message,type:"error"}:e.response.status===204&&(this.error={status:e.response.status,text:e.response.data.message,code:e.code,message:e.message,type:"error"})}finally{await m(1e3),this.loading=!1}}},getters:{hasError(s){return s.error!==null},getGroupMembers(s){var a;if(((a=s.members)==null?void 0:a.length)>0){const t=d().getCurrentUser;let r=[...s.members];const e=h.exports.findIndex(r,{id:t==null?void 0:t.id});if(e!==-1){const o=r.splice(e,1);return[...r,{...o[0],first_name:"Yourself",last_name:""}]}else return s.members}else return s.members}}});export{f as u};
//# sourceMappingURL=reviews.js.map
