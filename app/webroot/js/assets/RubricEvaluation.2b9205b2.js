import{d as H,D as J,i as L,k as l,x as g,o as t,c as s,F as d,e as c,b as e,v as U,t as r,a7 as _,f as o,n as k,j as b}from"./main.386b2761.js";import{_ as w}from"./UserCard.vue_vue_type_script_setup_true_lang.c748ae7e.js";const K={key:0,class:"evaluation-reviews"},M={class:"question"},O={key:0,class:"text-base text-slate-500"},Q={class:"badge"},W={class:"standardtable center no-v-line bg-gray-100"},X=e("th",{style:{width:"20%"}},[e("div",{class:"text-base font-medium leading-4 tracking-wide"},[e("div",{class:""},"Peer"),e("div",{class:""})])],-1),Z={class:"text-base font-medium leading-4 tracking-wide"},ee={class:""},te=e("div",{class:""},null,-1),se={key:0,class:"flex justify-center space-x-1"},le={key:0},ae={key:0,class:"flex justify-center space-x-1"},ne={class:"standardtable center no-v-line bg-gray-100"},ie=e("thead",null,[e("tr",null,[e("th",{style:{width:"20%"}},[e("div",{class:"text-base font-medium leading-4 tracking-wide"},[e("div",{class:""},"Peer"),e("div",{class:""})])]),e("th",{style:{width:"80%"}},[e("div",{class:"text-base font-medium leading-4 tracking-wide"},[e("div",{class:""},"Comments About Your Teamwork"),e("div",{class:""})])])])],-1),re={style:{"text-align":"left"}},oe={class:"space-y-1"},de={key:0,class:"quotes text-sm text-slate-700 font-light tracking-wide"},ce={key:0},ue={style:{"text-align":"left"}},me={class:"space-y-1"},_e={key:0,class:"quotes text-sm text-slate-700 font-light tracking-wide"},he={class:"datatable"},ve={class:"question"},ye={class:"standardtable center no-v-line"},fe=e("thead",null,[e("tr",null,[e("th",{style:{width:"20%"}},[e("div",{class:"text-base font-medium leading-4 tracking-wide"},[e("div",{class:""},"Peer"),e("div",{class:""})])]),e("th",{style:{width:"80%"}},[e("div",{class:"text-base font-medium leading-4 tracking-wide"},[e("div",{class:""},"Comments About Your Teamwork"),e("div",{class:""})])])])],-1),be={style:{"text-align":"left"}},we={class:"space-y-1"},xe={key:0,class:"quotes text-sm text-slate-700 font-light tracking-wide"},ge={key:0},ke={style:{"text-align":"left"}},pe={class:"space-y-1"},Ee={key:0,class:"quotes text-sm text-slate-700 font-light tracking-wide"},Ae=H({__name:"RubricEvaluation",props:{self:null,isDisabled:{type:Boolean},currentUser:null,reviews:null},setup($,{emit:Pe}){const a=$;J("View Rubric Evaluation Result");const x=L(()=>{var v;return(v=a.reviews)==null?void 0:v.evaluator}),h=L(()=>{var v;return(v=a.reviews)==null?void 0:v.evaluatee});return(v,qe)=>{var p,E,P,q,V,Y,A,B,C;return!l(g.exports.isEmpty)(a.reviews)&&((E=(p=a.reviews)==null?void 0:p.event)==null?void 0:E.is_released)?(t(),s("div",K,[(t(!0),s(d,null,c((q=(P=a.reviews)==null?void 0:P.rubric)==null?void 0:q.criterias,i=>{var y,N,S,j,D,F,I,R,T;return t(),s("div",{class:"datatable",key:i.id},[e("div",M,[U(r(i.criteria_num)+". "+r(i.criteria)+" ",1),l(g.exports.isEmpty)(l(h))?o("",!0):(t(),s("span",O,[U(" \u2014 "),e("span",Q,r(l(_).peer(l(h)).where(i.criteria_num).reduce("grade","average").result().toFixed(1))+" / "+r(i.multiplier)+" marks",1)]))]),e("table",W,[e("thead",null,[e("tr",null,[X,(t(!0),s(d,null,c((N=(y=a.reviews)==null?void 0:y.rubric)==null?void 0:N.loms,n=>{var u,m,f;return t(),s("th",{style:k({width:80/((f=(m=(u=a.reviews)==null?void 0:u.rubric)==null?void 0:m.loms)==null?void 0:f.length)+"%"}),key:n.id},[e("div",Z,[e("div",ee,r(n.lom_comment),1),te])],4)}),128))])]),e("tbody",null,[e("tr",null,[e("td",null,[b(w,{member:{first_name:"Peers",last_name:"said"},class:"font-medium"})]),(t(!0),s(d,null,c((j=(S=a.reviews)==null?void 0:S.rubric)==null?void 0:j.loms,n=>{var u,m,f;return t(),s("td",{style:k({width:80/((f=(m=(u=a.reviews)==null?void 0:u.rubric)==null?void 0:m.loms)==null?void 0:f.length)+"%"}),key:n.id},[l(g.exports.isEmpty)(l(h))?o("",!0):(t(),s("ul",se,[(t(!0),s(d,null,c(l(_).peer(l(h)).where(i.criteria_num).result(),(z,G)=>(t(),s("li",{class:"text-xs",key:z.id+G},r(z.selected_lom===n.lom_num?"x":""),1))),128))]))],4)}),128))]),parseInt((F=(D=a.reviews)==null?void 0:D.event)==null?void 0:F.self_eval)?(t(),s("tr",le,[e("td",null,[b(w,{member:{first_name:"You",last_name:"said"},class:"font-medium"})]),(t(!0),s(d,null,c((I=a==null?void 0:a.reviews)==null?void 0:I.rubric.loms,n=>{var u;return t(),s("td",{style:k({width:80/((u=a==null?void 0:a.reviews)==null?void 0:u.rubric.loms.length)+"%"}),key:n.id},[l(g.exports.isEmpty)(l(x))?o("",!0):(t(),s("ul",ae,[(t(!0),s(d,null,c(l(_).self(l(x)).where(i.criteria_num).result(),(m,f)=>(t(),s("li",{class:"text-xs",key:m.id},r(m.selected_lom===n.lom_num?"x":""),1))),128))]))],4)}),128))])):o("",!0)])]),e("table",ne,[ie,e("tbody",null,[e("tr",null,[e("td",null,[b(w,{member:{first_name:"Peers",last_name:"said"},class:"font-medium"})]),e("td",re,[e("ul",oe,[(t(!0),s(d,null,c(l(_).peer(l(h)).where(i.criteria_num).result(),n=>(t(),s("li",{class:"",key:n.id},[n.criteria_comment?(t(),s("span",de,r(n.criteria_comment),1)):o("",!0)]))),128))])])]),parseInt((T=(R=a.reviews)==null?void 0:R.event)==null?void 0:T.self_eval)?(t(),s("tr",ce,[e("td",null,[b(w,{member:{first_name:"You",last_name:"said"},class:"font-medium"})]),e("td",ue,[e("ul",me,[(t(!0),s(d,null,c(l(_).self(l(x)).where(i.criteria_num).result(),n=>(t(),s("li",{class:"",key:n.id},[n.criteria_comment?(t(),s("span",_e,r(n.criteria_comment),1)):o("",!0)]))),128))])])])):o("",!0)])])])}),128)),e("div",he,[e("div",ve,r(((A=(Y=(V=a.reviews)==null?void 0:V.rubric)==null?void 0:Y.criterias)==null?void 0:A.length)+1)+". "+r("Please provide overall comments about each peer."),1),e("table",ye,[fe,e("tbody",null,[e("tr",null,[e("td",null,[b(w,{member:{first_name:"Peers",last_name:"Said"},class:"font-medium"})]),e("td",be,[e("ul",we,[(t(!0),s(d,null,c(l(_).peer(l(h)).findAll("comment").result(),(i,y)=>(t(),s("li",{class:"",key:y},[i.comment?(t(),s("span",xe,r(i.comment),1)):o("",!0)]))),128))])])]),parseInt((C=(B=a.reviews)==null?void 0:B.event)==null?void 0:C.self_eval)?(t(),s("tr",ge,[e("td",null,[b(w,{member:{first_name:"You",last_name:"Said"},class:"font-medium"})]),e("td",ke,[e("ul",pe,[(t(!0),s(d,null,c(l(_).self(l(x)).findAll("comment").result(),(i,y)=>(t(),s("li",{class:"",key:y},[i.comment?(t(),s("span",Ee,r(i.comment),1)):o("",!0)]))),128))])])])):o("",!0)])])])])):o("",!0)}}});export{Ae as default};
