{"version":3,"file":"PeerMixedParagraphQuestion.js","sources":["../../../vueapp/src/student/views/questions/PeerMixedParagraphQuestion.vue"],"sourcesContent":["<script lang=\"ts\" setup>\nimport { ref, toRef } from 'vue'\nimport { isEmpty, find } from 'lodash'\nimport { validateParagraph } from '@/helpers/rules'\nimport CustomTextField from '@/components/fields/CustomTextField.vue'\nimport UserCard from '@/student/components/UserCard.vue'\nimport type { IMixedResponse, IMixedReviewData, IUser } from '@/types/typings'\n// REFERENCES\nconst emit = defineEmits<{\n  (e: 'update:initialState', value: object): void\n}>()\nconst props = defineProps<{\n  question: IMixedReviewData,\n  members: IUser[],\n  initialState: IMixedResponse,\n}>()\n\n// DATA\nconst members = toRef(props, 'members')\nconst question = toRef(props, 'question')\nconst initialState = toRef(props, 'initialState')\n// COMPUTED\n// METHODS\nfunction getResponseDetails(member_id:string, question_num:string): string {\n  if(initialState.value?.data || !isEmpty(initialState.value?.data)) {\n    const response = find(initialState.value?.data, { evaluatee: member_id })\n    if(response?.details) {\n      const question = find(response?.details, { question_number: question_num })\n      return question?.question_comment\n    }\n  }\n  return ''\n}\n// WATCH\n// LIFECYCLE\n</script>\n\n<template>\n  <div :class=\"`datatable question_${question.question_num}`\">\n    <div class=\"question\">{{ question.question_num }}. {{ question.title }} <span class=\"text-red-500\" v-if=\"question.required\">*</span></div>\n    <div class=\"description\">{{ question.instructions }}</div>\n    <table class=\"standardtable center no-v-line\">\n      <thead>\n      <tr>\n        <th style=\"width: 20%\">\n          <div class=\"flex flex-col\">\n            <div class=\"\">Peer</div>\n            <small class=\"small\"></small>\n          </div>\n        </th>\n        <th style=\"width: 80%;\">\n          <div class=\"flex flex-col\">\n            <div class=\"\">Comments</div>\n            <small class=\"small\"></small>\n          </div>\n        </th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-for=\"member of members\" :key=\"member.id\">\n        <td><UserCard :member=\"member\" /></td>\n        <td>\n          <CustomTextField\n            :name=\"`data[${member.id}][EvaluationMixeval][${question.question_num}][question_comment]`\"\n            :value=\"getResponseDetails(member.id, question.question_num)\"\n            :rules=\"question.required ? validateParagraph : null\"\n            @input=\"$emit('update:initialState', {\n              member_id: member.id,\n              question_num: question.question_num,\n              event: {\n                key: 'question_comment',\n                value: $event.target.value\n              }\n            })\"\n          />\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n"],"names":["members","toRef","props","question","initialState","getResponseDetails","member_id","question_num","_a","isEmpty","_b","response","find","_c"],"mappings":"s3BAkBMA,EAAUC,EAAMC,EAAO,SAAS,EAChCC,EAAWF,EAAMC,EAAO,UAAU,EAClCE,EAAeH,EAAMC,EAAO,cAAc,EAGvC,SAAAG,EAAmBC,EAAkBC,EAA6B,WACtE,KAAAC,EAAAJ,EAAa,QAAb,YAAAI,EAAoB,OAAQ,CAACC,mBAAQC,EAAAN,EAAa,QAAb,YAAAM,EAAoB,IAAI,EAAG,CAC3D,MAAAC,EAAWC,gBAAKC,EAAAT,EAAa,QAAb,YAAAS,EAAoB,KAAM,CAAE,UAAWP,EAAW,EACxE,GAAGK,GAAA,MAAAA,EAAU,QAAS,CACpB,MAAMR,EAAWS,EAAAA,QAAAA,KAAKD,GAAA,YAAAA,EAAU,QAAS,CAAE,gBAAiBJ,EAAc,EAC1E,OAAOJ,GAAAA,YAAAA,EAAU,gBACnB,CACF,CACO,MAAA,EACT"}