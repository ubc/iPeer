import{_ as D,o as n,c as r,a as l,b as te,d as x,r as B,F as L,e as S,f as G,n as ne,t as f,g,h as H,i as J,j as C,k as y,l as W,u as K,m as E,p as _,w as j,q as e,s as F,v as O,x as Y,y as se,z as oe,A as le,E as re,B as ie,S as R}from"./main.js";import{l as N}from"./lodash.js";import{_ as T,c as Q,f as ae,p as ue,u as de}from"./index.js";import{d as P}from"./autosize.esm.js";import{_ as z}from"./SectionTitle.vue_vue_type_script_setup_true_lang.js";import{_ as q}from"./SectionSubtitle.vue_vue_type_script_setup_true_lang.js";import"./_commonjsHelpers.js";const ce={},me={id:"emoji",viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg"},pe=l("g",{id:"line"},[l("path",{fill:"none",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"2",d:"M51.2308,14.778c-15.2308,18-18,30.4615-18,30.4615s-2.7692-6.9231-5.5385-9.6923"}),l("path",{fill:"none",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"2",d:"M45,29.0772V50.318c0,0.2541-0.2059,0.46-0.46,0.46H22.46c-0.254,0-0.46-0.2059-0.46-0.46v-22.08c0-0.254,0.2059-0.46,0.46-0.46 h13.9961h0.3953"})],-1),_e=[pe];function ke(d,h){return n(),r("svg",me,_e)}const he=D(ce,[["render",ke]]),fe={},ve={id:"emoji",viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg"},ye=te('<g id="line"><line x1="45.4806" x2="45.4806" y1="13.9548" y2="19.5906" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"></line><line x1="40.7203" x2="40.7203" y1="13.9548" y2="19.5906" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"></line><line x1="35.96" x2="35.96" y1="13.9548" y2="19.5906" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"></line><line x1="50.2408" x2="50.2408" y1="13.9548" y2="19.5906" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"></line><line x1="31.1997" x2="31.1997" y1="13.9548" y2="19.5906" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"></line><line x1="26.4394" x2="26.4394" y1="13.9548" y2="19.5906" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"></line><line x1="21.6792" x2="21.6792" y1="13.9548" y2="19.5906" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"></line><line x1="16.9896" x2="54.7874" y1="29.3515" y2="29.3515" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"></line><line x1="16.9896" x2="54.7874" y1="39.8249" y2="39.8249" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"></line><line x1="16.9896" x2="39.115" y1="50.2984" y2="50.2984" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"></line><line x1="25.9463" x2="25.9463" y1="24.4434" y2="55.5488" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"></line><polyline fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" points="54.3253,16.9734 59.96,16.9734 59.997,48.0382 43.6564,60.0864 11.997,60.0918 11.96,16.9734 17.5992,16.9734"></polyline><polyline fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" points="59.7462,48.0382 43.1384,48.0382 43.1384,53.5175"></polyline></g>',1),ge=[ye];function xe(d,h){return n(),r("svg",ve,ge)}const be=D(fe,[["render",xe]]),$e={},we={id:"emoji",viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg"},je=l("g",{id:"line"},[l("path",{fill:"none",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"2",d:"M41,55l-18.7948-9.1111l-15.817-7.6675c-1.8509-0.8972-1.8509-3.5456,0-4.4428l15.817-7.6675L41,17"}),l("path",{fill:"none",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"2",d:"M67,55l-18.8824-9.1111l-15.8908-7.6675c-1.8595-0.8972-1.8595-3.5456,0-4.4428l15.8908-7.6675L67,17"})],-1),Ce=[je];function Ve(d,h){return n(),r("svg",we,Ce)}const Be=D($e,[["render",Ve]]),Ee={},Me={id:"emoji",viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg"},Ne=l("g",{id:"line"},[l("path",{fill:"none",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"2",d:"M31,17l18.7948,9.1111l15.817,7.6675c1.8509,0.8972,1.8509,3.5456,0,4.4428l-15.817,7.6675L31,55"}),l("path",{fill:"none",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"2",d:"M5,17l18.8824,9.1111l15.8908,7.6675c1.8595,0.8972,1.8595,3.5456,0,4.4428L23.8824,45.889L5,55"})],-1),Le=[Ne];function Se(d,h){return n(),r("svg",Me,Le)}const Ue=D(Ee,[["render",Se]]),Ae={class:"standardtable leftalignedtable"},Ie=["data-index"],Oe={class:"flex justify-between items-center space-x-4"},Te=["onClick"],De={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9l4-4 4 4m0 6l-4 4-4-4"},We={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"},Fe={key:2,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"},X=x({__name:"Table",props:{columns:null},emits:["update:sort"],setup(d,{emit:h}){const s=B({key:"event",column:"id",direction:"asc"});function t(p,u,o){s.key=p,s.column=u,s.direction=o,h("update:sort",s)}return(p,u)=>(n(),r("table",Ae,[l("thead",null,[l("tr",null,[(n(!0),r(L,null,S(d.columns,(o,m)=>(n(),r("th",{key:o.id,"data-index":m,style:ne({width:o.width})},[l("div",Oe,[l("span",null,f(o.name),1),(n(),r("svg",{class:"w-5 h-5 cursor-pointer text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",onClick:k=>t(o.key,o.value,s.direction==="asc"?"desc":"asc")},[o.sortable&&s.column!==o.value?(n(),r("path",De)):o.sortable&&s.direction==="desc"&&s.key===o.key?(n(),r("path",We)):o.sortable&&s.direction==="asc"&&s.key===o.key?(n(),r("path",Fe)):g("",!0)],8,Te))])],12,Ie))),128))])]),l("tbody",null,[G(p.$slots,"default")])]))}}),Re={class:"error p-4 m-4 border border-red-500 bg-red-50 text-center"},Z=x({__name:"Error",props:{error:null},setup(d,{emit:h}){return(s,t)=>(n(),r("div",Re,f(JSON.stringify(d.error,null,2)),1))}}),Pe={class:"current-work mx-4 my-8"},ze={key:0},qe=["colspan"],Ge={key:1},He=["colspan"],Je=l("div",{class:"flex justify-center items-center p-8"},"No Content found!",-1),Ke=[Je],Ye=x({__name:"CurrentWork",props:{currentUser:null},setup(d,{emit:h}){const s=H({loader:()=>J(()=>import("./Row.js"),["js/vue/Row.js","js/vue/index.js","js/vue/main.js","css/vue/main.css","js/vue/lodash.js","js/vue/_commonjsHelpers.js","js/vue/IconClock.js"]),LoadingComponent:"<div>Loading...</div>",suspensible:!1,delay:2e3}),t=C(!1),p=C(null),u=B([{id:1,key:"event",value:"title",name:"Work",sortable:!0,width:"30%"},{id:2,key:"course",value:"course",name:"Course",sortable:!0,width:"23%"},{id:3,key:"event",value:"due_date",name:"Due",sortable:!0,width:"30%"},{id:4,key:"action",value:"",name:"Action",sortable:!1,width:"17%"}]),o=C([]),m=B({key:"event",column:"id",direction:"asc"}),k=y(()=>{let i=o.value||[];return!N.exports.isEmpty(i)&&Array.isArray(i)&&(i=i==null?void 0:i.sort(Q(m.key,m.column,m.direction))),i});function V(i){Object.assign(m,i)}return W(async()=>{try{t.value=!0;const i=await K("/home?work=current",{method:"GET",timeout:300});o.value=i==null?void 0:i.data}catch(i){p.value={text:i.message,type:"error"}}finally{t.value=!1}}),(i,v)=>(n(),r("div",Pe,[p.value?(n(),E(Z,{key:0,class:"current error",error:p.value},null,8,["error"])):g("",!0),_(e(X),{error:p.value,columns:u,"onUpdate:sort":V},{default:j(()=>[t.value?(n(),r("tr",ze,[l("td",{colspan:u.length},[_(T,{height:"200px"})],8,qe)])):!t.value&&e(N.exports.isEmpty)(e(k))?(n(),r("tr",Ge,[l("td",{colspan:u.length},Ke,8,He)])):!t.value&&!e(N.exports.isEmpty)(e(k))?(n(!0),r(L,{key:2},S(e(k),(c,b)=>{var $;return n(),E(e(s),{key:`${b}_${($=c==null?void 0:c.event)==null?void 0:$.id}`,"data-index":b,row:c},null,8,["data-index","row"])}),128)):g("",!0)]),_:1},8,["error","columns"])]))}}),Qe={class:"pagination flex justify-between items-center text-sm text-slate-700 leading-relaxed mt-4"},Xe={class:"displaying text-slate-700"},Ze={class:"paginate text-slate-700"},et={class:"flex space-x-1.5"},tt=["disabled"],nt=["onClick"],st=["disabled"],ot=x({__name:"Pagination",props:{paginate:null},emits:["update:paginate"],setup(d,{emit:h}){const t=F(d,"paginate");return(p,u)=>(n(),r("div",Qe,[l("div",Xe," Displaying "+f(e(t).offset+1)+" - "+f(Number(e(t).end)>e(t).total?e(t).total:e(t).end)+" of "+f(e(t).total),1),l("div",Ze,[l("ul",et,[l("li",null,[l("button",{class:O(`paginate ${e(t).page===1?"disabled":""}`),disabled:e(t).page===1,onClick:u[0]||(u[0]=o=>e(t).page--)},[_(e(Be),{class:"w-4 h-4"})],10,tt)]),(n(!0),r(L,null,S(e(t).pages,(o,m)=>(n(),r("li",{key:m},[l("button",{class:O(`paginate ${e(t).page===m+1?"active":""}`),onClick:k=>e(t).page=m+1},f(m+1),11,nt)]))),128)),l("li",null,[l("button",{class:O(`paginate ${e(t).page===e(t).pages?"disabled":""}`),disabled:e(t).page===e(t).pages,onClick:u[1]||(u[1]=o=>e(t).page++)},[_(e(Ue),{class:"w-4 h-4"})],10,st)])])])]))}}),lt={class:"space-x-2"},rt=["name","value","data-value"],it={key:0,class:"text-sm"},at=x({__name:"CustomCheckField",props:{label:null,name:null,value:null,modelValue:null,rules:null},emits:["update:modelValue","update:event"],setup(d,{emit:h}){const s=d,t=F(s,"name"),{checked:p,handleChange:u,errorMessage:o,handleBlur:m,meta:k}=Y(t,s.rules,{type:"checkbox",checkedValue:s.value,uncheckedValue:null,validateOnValueUpdate:!0});return(V,i)=>(n(),r("label",lt,[l("input",{type:"checkbox",class:"text-sm",name:e(t),value:d.modelValue,"data-value":d.value,onChange:i[0]||(i[0]=v=>V.$emit("update:event",v)),onInput:i[1]||(i[1]=(...v)=>e(u)&&e(u)(...v)),onBlur:i[2]||(i[2]=(...v)=>e(m)&&e(m)(...v))},null,40,rt),d.label?(n(),r("span",it,f(d.label),1)):g("",!0)]))}}),ut={class:"limit flex flex-col items-center md:flex-row md:space-x-16"},dt={key:0,class:"label"},ct={class:"flex items-center space-x-8"},mt=x({__name:"LimitTo",props:{options:null,label:null},emits:["update:event"],setup(d,{emit:h}){const s=d;return(t,p)=>(n(),r("div",ut,[s.label?(n(),r("div",dt,f(s.label),1)):g("",!0),l("div",ct,[(n(!0),r(L,null,S(s.options,u=>(n(),E(at,{key:u,name:u.name,value:u.value,label:u.label,"onUpdate:event":p[0]||(p[0]=o=>t.$emit("update:event",o))},null,8,["name","value","label"]))),128))])]))}}),pt={key:0,class:"form-select-label"},_t=["id","name","disabled"],kt=["value"],ht=x({__name:"CustomSelectField",props:{label:null,name:null,value:null,modelValue:null,rules:{default:void 0},default:null,disabled:{type:Boolean,default:!1}},emits:["update:modelValue","update:event"],setup(d,{emit:h}){const s=d,t=F(s,"name"),{value:p,handleChange:u,errorMessage:o,handleBlur:m,meta:k}=Y(t,s.rules,{type:s.type,initialValue:s.value,validateOnValueUpdate:!1}),V=C(),i=C(s.default),v={blur:u,change:u,input:c=>u(c,!!o.value)};return W(()=>P(V.value)),se(()=>P.destroy(V.value)),(c,b)=>(n(),r("label",{class:O(["form-select",{"has-error":!!e(o),success:e(k).valid}])},[d.label?(n(),r("span",pt,f(d.label),1)):g("",!0),l("select",oe({class:"form-select-input",id:e(t),name:e(t),disabled:s.disabled,onChange:b[0]||(b[0]=$=>c.$emit("update:event",$)),onInput:b[1]||(b[1]=(...$)=>e(u)&&e(u)(...$))},le(v,!0),c.$attrs),[i.value?(n(),r("option",{key:0,value:i.value},f(i.value),9,kt)):g("",!0),G(c.$slots,"default")],16,_t),_(e(re),{class:"form-text text-muted",name:e(t)},null,8,["name"])],2))}}),ft={class:"timeframe flex flex-col items-center md:flex-row md:space-x-12"},vt=l("div",{class:"label"},"Timeframe:",-1),yt=["value","selected"],gt=x({__name:"TimeFrame",props:{default:null,label:null,name:null,options:null,modelValue:null},emits:["update:event"],setup(d,{emit:h}){const s=d,t=y(()=>s.default?s.default:s.options.length>0?s.options[0]:null);return(p,u)=>(n(),r("div",ft,[vt,_(ht,{default:s.default,name:s.name,"onUpdate:event":u[0]||(u[0]=o=>p.$emit("update:event",o))},{default:j(()=>[(n(!0),r(L,null,S(s.options,(o,m)=>(n(),r("option",{key:m,value:o,selected:o===e(t)},f(o),9,yt))),128))]),_:1},8,["default","name"])]))}}),xt={class:"completed-work mx-4 my-8"},bt={class:"flex flex-col my-4 space-y-6"},$t={key:0},wt=["colspan"],jt={key:1},Ct=["colspan"],Vt=l("div",{class:"flex justify-center items-center p-8"},"No Content found!",-1),Bt=[Vt],Et=x({__name:"CompletedWork",props:{currentUser:null},setup(d,{emit:h}){const s=H({loader:()=>J(()=>import("./Row2.js"),["js/vue/Row2.js","js/vue/index.js","js/vue/main.js","css/vue/main.css","js/vue/lodash.js","js/vue/_commonjsHelpers.js","js/vue/IconClock.js"]),LoadingComponent:"Loading...",suspensible:!1,delay:2e3}),t=C(!1),p=C(null),u=B([{id:1,key:"event",value:"title",name:"Work",sortable:!0,width:"30%"},{id:2,key:"event",value:"record_status",name:"Your Status",sortable:!0,width:"18%"},{id:3,key:"course",value:"course",name:"Course",sortable:!0,width:"17.5%"},{id:4,key:"event",value:"due_date",name:"Due",sortable:!0,width:"17.5%"},{id:5,key:"action",value:"",name:"Action",sortable:!1,width:"17%"}]),o=C([]),m=B({key:"event",column:"id",direction:"asc"}),k=B({timeframe:"all",limit:[],search:""}),V=B([{name:"limit",value:"can_edit",label:"Work I can still edit"},{name:"limit",value:"can_view",label:"Peer reviews of me I can see"}]),i=y(()=>{let a=o.value||[];return!N.exports.isEmpty(a)&&Array.isArray(a)&&(a=a==null?void 0:a.sort(Q(m.key,m.column,m.direction)),a=Object.entries(k)?ae(a,k):a,a=ue(a,c.offset,c.end)),a}),v=y(()=>de(o.value,"course","term").sort((a,U)=>a.localeCompare(U))),c=B({page:1,limit:5,total:y(()=>{var a;return(a=o.value)==null?void 0:a.length}),pages:y(()=>{var a;return Math.ceil(((a=o.value)==null?void 0:a.length)/Number(c.limit))||1}),offset:y(()=>Number(c.page)*Number(c.limit)-Number(c.limit)),end:y(()=>Number(c.offset)+Number(c.limit))});function b(a){Object.assign(m,a)}function $(a){let{name:U,value:M,checked:I}=a.target,A=a.target.dataset.value;if(a.target.type==="checkbox"){const w=k[U];if(I)w.push(A);else{const ee=w.indexOf(A);w.splice(ee,1)}}else k[U]=M;k.timeframe==="all"&&!a.target.checked&&k.limit.length===0?c.pages=y(()=>{var w;return Math.ceil(((w=o.value)==null?void 0:w.length)/Number(c.limit))||1}):c.pages=y(()=>{var w;return Math.ceil(((w=i.value)==null?void 0:w.length)/Number(c.limit))||1}),c.page=1}return ie([m,k,c],()=>{i.value},{deep:!0}),W(async()=>{try{t.value=!0;const a=await K("/home?work=completed",{method:"GET",timeout:300});o.value=a.data}catch(a){p.value={text:a.message,type:"error"}}finally{t.value=!1}}),(a,U)=>(n(),r("div",xt,[p.value?(n(),E(Z,{key:0,class:"completed error",error:p.value},null,8,["error"])):g("",!0),l("div",bt,[_(gt,{default:k.timeframe,options:e(v),name:"timeframe","onUpdate:event":$},null,8,["default","options"]),_(mt,{label:"Limit To:",options:V,"onUpdate:event":$},null,8,["options"])]),_(e(X),{error:p.value,columns:u,"onUpdate:sort":b},{default:j(()=>[t.value?(n(),r("tr",$t,[l("td",{colspan:u.length},[_(T,{height:"200px"})],8,wt)])):!t.value&&e(N.exports.isEmpty)(e(i))?(n(),r("tr",jt,[l("td",{colspan:u.length},Bt,8,Ct)])):!t.value&&!e(N.exports.isEmpty)(e(i))?(n(!0),r(L,{key:2},S(e(i),(M,I)=>{var A;return n(),E(e(s),{key:`${I}_${(A=M==null?void 0:M.event)==null?void 0:A.id}`,"data-index":I,row:M},null,8,["data-index","row"])}),128)):g("",!0)]),_:1},8,["error","columns"]),_(ot,{paginate:c},null,8,["paginate"])]))}}),Mt={class:"events"},Nt={key:0,class:"events error"},Lt=l("p",{class:"mx-4"},"Instructors will set specific timeframes for reviewing your group. When work is available, it will appear here until you complete it or the final due date passes.",-1),St=l("p",{class:"mx-4"},"Below you can find previously assigned work that you have completed or that has closed. After a peer review closes, your instructor may or may not let you see how your peers evaluated you. If any reviews of you are available, they will be linked below.",-1),Ft=x({__name:"EventsIndex",props:{currentUser:null},setup(d,{emit:h}){const s=C(null);return(t,p)=>(n(),r("div",Mt,[s.value?(n(),r("div",Nt,f(JSON.stringify(s.value,null,2)),1)):g("",!0),l("section",null,[_(z,{title:"Current Work To Do"}),_(q,{subtitle:"Do the work assigned to you",icon:{src:e(he),size:"3.5rem"}},{default:j(()=>[Lt]),_:1},8,["icon"]),(n(),E(R,null,{default:j(()=>[_(Ye,{"current-user":d.currentUser},null,8,["current-user"])]),fallback:j(()=>[_(T)]),_:1}))]),l("section",null,[_(z,{title:"Closed or Completed Work"}),_(q,{subtitle:"See past work and reviews of your teamwork",icon:{src:e(be),size:"3.25rem"}},{default:j(()=>[St]),_:1},8,["icon"]),(n(),E(R,null,{default:j(()=>[_(Et,{"current-user":d.currentUser},null,8,["current-user"])]),fallback:j(()=>[_(T)]),_:1}))])]))}});export{Ft as default};
//# sourceMappingURL=EventsIndex.js.map
