{"version":3,"mappings":"i6BAkBcA,EAAS,EACvB,MAAMC,EAASC,IAETC,EAAcC,EAAMC,EAAO,SAAS,EACpCC,EAAcF,EAAMC,EAAO,aAAa,EACxCE,EAAcH,EAAMC,EAAO,YAAY,EAEvCG,EAAWC,EAAS,IAAM,OAC3B,QAAW,QAAX,QAAkB,SACnB,OAAOC,EAAqB,CAC1B,OAAQ,WAAM,2gDACd,iBAAkB,+DACnB,CACH,CACD,EAID,SAAU,IAAM,WACXC,IAAW,QAAX,cAAkB,UAAW,QAAQC,IAAW,QAAX,cAAkB,SAAU,IAClEX,EAAO,KAAK,CAAE,KAAM,iBAAmB,GAEvCA,EAAO,KAAK,CAAE,KAAM,iBAAmB,EACzC,CACD","names":["useRoute","router","useRouter","members","toRef","props","currentUser","evaluation","template","computed","defineAsyncComponent","_a","_b"],"sources":["../../../../vue-ts-ipeer/src/student/views/EvaluationEditPage.vue"],"sourcesContent":["<script lang=\"ts\" setup>\nimport { toRef, computed, onMounted, defineAsyncComponent} from 'vue';\nimport { useRoute, useRouter } from 'vue-router'\n\nimport IconSpinner from '@/components/icons/IconSpinner.vue'\nimport TakeNote from '@/student/components/TakeNote.vue'\n\nimport type {Evaluation, User} from '@/types/typings'\n// REFERENCES\nconst emit = defineEmits<{\n  // (e: 'update:modelValue', option: string): void\n  (e: 'fetch:evaluation'): void\n}>()\nconst props = defineProps<{\n  members: User[]\n  currentUser: User\n  evaluation: Evaluation\n}>()\nconst route = useRoute()\nconst router = useRouter()\n// DATA\nconst members     = toRef(props, 'members')\nconst currentUser = toRef(props, 'currentUser')\nconst evaluation  = toRef(props, 'evaluation')\n// COMPUTED\nconst template = computed(() => {\n  if(evaluation.value?.template) {\n    return defineAsyncComponent({\n      loader: () => import(`@/student/views/templates/${evaluation.value?.template}.vue`),\n      loadingComponent: `<div class=\"w-full h-128 bg-gold-100\">L O A D I N G...</div>`\n    })\n  }\n})\n// METHODS\n// WATCH\n// LIFECYCLE\nonMounted(() => {\n  if(evaluation.value?.status === null || evaluation.value?.status == '0') {\n    router.push({ name: 'evaluation.make' })\n  } else {\n    router.push({ name: 'evaluation.edit' })\n  }\n})\n</script>\n\n<template>\n  <div class=\"evaluation-edit-page\">\n    <component\n        :is=\"template\"\n        :members=\"members\"\n        :evaluation=\"evaluation\"\n        :currentUser=\"currentUser\"\n        @fetch:evaluation=\"$emit('fetch:evaluation')\"\n    >\n      <template v-slot:header></template>\n      <template v-slot:main></template>\n      <template v-slot:footer><TakeNote /></template>\n      <template v-slot:cta=\"{ onSave, isSubmitting }\">\n        <div class=\"cta\">\n          <router-link :to=\"{ name: 'dashboard' }\" class=\"button default with-icon\" >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15.75 19.5L8.25 12l7.5-7.5\" />\n            </svg>\n            <span>Back</span>\n          </router-link>\n          <button type=\"submit\" class=\"button submit flex items-center\">\n            <IconSpinner v-if=\"isSubmitting\" />\n            <span>{{ 'Save Changes' }}</span>\n          </button>\n        </div>\n      </template>\n    </component>\n  </div>\n</template>\n"],"file":"js/vue/EvaluationEditPage.js"}