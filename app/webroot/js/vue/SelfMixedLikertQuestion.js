import{b as V}from"./rules.js";import"./autosize.esm.js";import{_ as $}from"./CustomRadioField.vue_vue_type_script_setup_true_lang.js";import{_ as B}from"./EvaluationForm.vue_vue_type_script_setup_true_lang.js";import{l as h}from"./lodash.js";import{d as M,s as q,o as n,c as i,a as s,L as U,t as p,q as e,g as S,F as C,e as E,n as w,p as L,v as z}from"./main.js";import"./index2.js";import"./_commonjsHelpers.js";import"./sweetalert.min.js";const D={class:"question"},F={key:0,class:"text-red-500"},R={class:"description text-sm text-slate-900 leading-relaxed mx-4 mb-2"},I={class:"mx-4"},Q={class:"standardtable leftalignedtable"},T={class:"text-center leading-4"},j={class:"font-normal"},A={key:0,class:"text-sm font-thin"},ee=M({__name:"SelfMixedLikertQuestion",props:{evaluation:null,question:null,currentUser:null,initialState:null},emits:["update:initialState"],setup(N,{emit:G}){const v=N,t=q(v,"question"),o=q(v,"currentUser"),f=q(v,"initialState");function g(x,c){var r,u,d;if(((r=f.value)==null?void 0:r.data)||!h.exports.isEmpty((u=f.value)==null?void 0:u.data)){const a=h.exports.find((d=f.value)==null?void 0:d.data,{evaluatee:x});if(a!=null&&a.details){const l=h.exports.find(a.details,{question_number:c});return l==null?void 0:l.selected_lom}}return 0}return(x,c)=>{var r,u,d,a,l,k;return n(),i("div",{class:z(`question_${(r=e(t))==null?void 0:r.question_num} mx-4`)},[s("div",D,[U(p((u=e(t))==null?void 0:u.question_num)+". "+p((d=e(t))==null?void 0:d.title)+" ",1),(a=e(t))!=null&&a.required?(n(),i("span",F,"*")):S("",!0)]),s("div",R,p((l=e(t))==null?void 0:l.instructions),1),s("div",I,[s("table",Q,[s("thead",null,[s("tr",null,[(n(!0),i(C,null,E((k=e(t))==null?void 0:k.loms,m=>{var _,y,b;return n(),i("th",{style:w("width: "+100/((y=(_=e(t))==null?void 0:_.loms)==null?void 0:y.length)+"%; text-align: center"),key:m.id},[s("div",T,[s("div",j,p(m.descriptor),1),parseInt((b=e(t))==null?void 0:b.show_marks)?(n(),i("div",A,"mark")):S("",!0)])],4)}),128))])]),s("tbody",null,[s("tr",null,[L(e(B),{name:"data["+e(o).id+"][EvaluationMixeval]["+e(t).question_num+"][selected_lom]",value:g(e(o).id,e(t).question_num)},null,8,["name","value"]),(n(!0),i(C,null,E(e(t).loms,m=>(n(),i("td",{style:{"text-align":"center",height:"36px"},key:m.id},[L(e($),{name:"data["+e(o).id+"][EvaluationMixeval]["+e(t).question_num+"][grade]",value:m.scale_level,rules:e(t).required?e(V):null,checked:g(e(o).id,e(t).question_num),onChange:c[0]||(c[0]=_=>x.$emit("update:initialState",{member_id:e(o).id,question_num:e(t).question_num,event:{key:"selected_lom",value:_.target.value}}))},null,8,["name","value","rules","checked"])]))),128))])])])])],2)}}});export{ee as default};
//# sourceMappingURL=SelfMixedLikertQuestion.js.map
